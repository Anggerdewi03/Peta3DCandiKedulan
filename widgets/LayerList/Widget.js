// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"esri/widgets/LayerList":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/events ../core/Handles ../core/has ../core/reactiveUtils ../core/accessorSupport/decorators/aliasOf ../core/arrayUtils ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/subclass ./Widget ./LayerList/LayerListViewModel ./LayerList/ListItem ./LayerList/support/layerListUtils ./support/decorators/accessibleHandler ./support/decorators/messageBundle ./support/decorators/vmEvent ./support/jsxFactory ./support/widgetUtils ../chunks/sortable.esm".split(" "),
function(T,K,q,v,B,w,E,t,h,F,R,D,L,ka,oa,ha,S,z,u,G,l,y,N){function H(ba){const {actionsOpen:aa,children:x}=ba;aa&&(ba.actionsOpen=!1);x.forEach(b=>H(b))}const n=v.ofType(ha),J={exclusive:"exclusive",inherited:"inherited",independent:"independent"},X={statusIndicators:!0};v=function(ba){function aa(b,f){var g=ba.call(this,b,f)||this;g._handles=new w;g._sortableNodes=new Map;g._sortableMap=new Map;g._focusSortUid=null;g._newUI=E("esri-layerlist-new-ui");g._tooltipReferenceMap=new Map;g.visibleItems=
null;g.iconClass="esri-icon-layers";g.label=void 0;g.listItemCanGiveFunction=null;g.listItemCanReceiveFunction=null;g.listItemCreatedFunction=null;g.messages=null;g.messagesCommon=null;g.multipleSelectionEnabled=!1;g.operationalItems=null;g.selectionEnabled=!1;g.selectedItems=new n;g.view=null;g.viewModel=new oa;g.visibleElements={...X};g._onSortableSort=({to:p,from:A,item:M,newIndex:Q})=>{A&&p&&(A===p?g._sortLayers(g._sortableMap.get(A.dataset.group)):g._moveLayerFromChildList({to:p,from:A,item:M,
newIndex:Q}))};g._sortableCanSort=(p,A)=>!(!p.el.dataset.group||!A.el.dataset.group);g._sortableCanPull=(p,A,M)=>{const {listItemCanGiveFunction:Q}=K._assertThisInitialized(g);M={selected:M["data-item"],from:A.el["data-item"],to:p.el["data-item"]};return g._sortableCanSort(p,A)&&"function"===typeof Q?Q.call(null,M):!0};g._sortableCanPut=(p,A,M)=>{const {listItemCanReceiveFunction:Q}=K._assertThisInitialized(g);M={selected:M["data-item"],from:A.el["data-item"],to:p.el["data-item"]};return g._sortableCanSort(p,
A)&&"function"===typeof Q?Q.call(null,M):!0};g._onSortableEnd=({oldIndex:p,from:A,to:M,item:Q})=>{A!==M&&A.insertBefore(Q,A.children[p])};return g}K._inheritsLoose(aa,ba);var x=aa.prototype;x.initialize=function(){const b=this.operationalItems;this._setVisibleItems(b);this.own([t.on(()=>this.operationalItems,"change",()=>this._itemsChanged(b)),t.watch(()=>this.errorsVisible,()=>this._itemsChanged(b)),t.watch(()=>this.selectionEnabled,()=>this._toggleAllSorting(),t.initial)])};x.loadDependencies=function(){return Promise.all([new Promise((b,
f)=>T(["../chunks/calcite-tooltip"],b,f))])};x.destroy=function(){this._destroySortables();this._tooltipReferenceMap.clear();this._handles.destroy();this._handles=null};x.castVisibleElements=function(b){return{...X,...b}};x.triggerAction=function(b,f){this.viewModel.triggerAction(b,f)};x.render=function(){var b;const {visibleItems:f,_newUI:g}=this;var p=null==(b=this.viewModel)?void 0:b.state;b={["esri-layer-list--new-ui"]:g,["esri-hidden"]:"loading"===p,["esri-disabled"]:"disabled"===p};p=this.renderItemTooltips();
const A=this.renderItems();return l.tsx("div",{class:this.classes("esri-layer-list esri-widget esri-widget--panel",b)},null!=f&&f.length?[p,A]:this.renderNoItems())};x.renderItemTooltip=function(b){const {_tooltipReferenceMap:f,messages:g}=this;return b?l.tsx("calcite-tooltip",{label:g.layerIncompatible,referenceElement:f.get(b.uid)},g.layerIncompatibleTooltip):null};x.renderItemTooltipNodes=function(b){const {incompatible:f,children:g}=b;return[f?this.renderItemTooltip(b):null,...f?[]:null==g?void 0:
g.toArray().map(p=>this.renderItemTooltipNodes(p))]};x.renderItemTooltips=function(){return this.visibleItems.toArray().map(b=>this.renderItemTooltipNodes(b))};x.renderNoItems=function(){return l.tsx("div",{class:"esri-layer-list__no-items"},this.messages.noItemsToDisplay)};x.renderItems=function(){const {visibleItems:b,selectionEnabled:f,messages:g}=this;return l.tsx("ul",{"aria-label":g.widgetLabel,role:f?"listbox":void 0,afterCreate:this._sortNodeCreated,afterUpdate:this._sortNodeCreated,afterRemoved:this._sortNodeRemoved,
"data-group":"root",bind:this,class:this.classes("esri-layer-list__list","esri-layer-list__list--root","esri-layer-list__list--independent")},null==b?void 0:b.map(p=>this.renderItem(p,null)).toArray())};x.renderActionsMenuIcon=function(b,f){const {messagesCommon:g}=this;return l.tsx("div",{key:"actions-menu-toggle","data-item":b,bind:this,onclick:this._toggleActionsOpen,onkeydown:this._toggleActionsOpen,class:this.classes("esri-layer-list__item-actions-menu-item",{["esri-layer-list__item-actions-menu-item--active"]:b.actionsOpen}),
tabindex:"0",role:"button","aria-controls":f,"aria-label":g.options,title:g.options},l.tsx("span",{"aria-hidden":"true",class:"esri-icon-handle-horizontal"}))};x.renderActionsMenu=function(b,f,g,p){var {panel:A}=b;A=A&&A.visible?this.renderPanelButton(A):null;const M=(f=1===g&&this._getSingleActionButton(f))?this.renderAction({item:b,action:f,singleAction:!0}):null;return(b=!f&&g?this.renderActionsMenuIcon(b,p):null)||A||f?l.tsx("div",{key:"actions-menu",class:"esri-layer-list__item-actions-menu"},
A,M,b):null};x.renderChildList=function(b,f){var g;const {selectionEnabled:p}=this,{visibilityMode:A,children:M}=b,Q=this._hasChildren(b),P=!Q&&p&&"group"===(null==(g=b.layer)?void 0:g.type),{exclusive:W,inherited:ca}=J;g={["esri-layer-list__list--exclusive"]:A===W,["esri-layer-list__list--inherited"]:A===ca,["esri-layer-list__list--independent"]:A!==ca&&A!==W};return Q||P?l.tsx("ul",{bind:this,key:"list-items",id:f,"data-group":b.uid,"data-item":b,afterCreate:this._sortNodeCreated,afterUpdate:this._sortNodeCreated,
afterRemoved:this._sortNodeRemoved,class:this.classes("esri-layer-list__list",g),"aria-expanded":b.open?"true":"false",role:p?"listbox":A===W?"radiogroup":"group",hidden:b.open||P?null:!0},null==M?void 0:M.map(ia=>this.renderItem(ia,b)).toArray()):null};x.renderChildrenToggle=function(b,f){var {messagesCommon:g}=this;const p=this._hasChildren(b),A={["esri-layer-list__child-toggle--open"]:b.open};g=b.open?g.collapse:g.expand;return p?l.tsx("span",{onclick:this._toggleChildrenClick,onkeydown:this._toggleChildrenClick,
"data-item":b,key:"toggle-children",class:this.classes("esri-layer-list__child-toggle",A),tabindex:"0",role:"button","aria-controls":f,"aria-label":g,title:g},l.tsx("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--closed","esri-icon-right-triangle-arrow")}),l.tsx("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--opened","esri-icon-down-arrow")}),l.tsx("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--closed-rtl",
"esri-icon-left-triangle-arrow")})):null};x.renderItemMessage=function(b){return b.error?l.tsx("div",{key:"esri-layer-list__error",class:"esri-layer-list__item-message",role:"alert"},l.tsx("span",{"aria-hidden":"true",class:"esri-icon-notice-triangle"}),this.messages.layerError):b.incompatible?l.tsx("div",{key:"esri-layer-list__incompatible",class:"esri-layer-list__item-message",role:"alert"},l.tsx("span",{bind:this,tabIndex:0,"aria-hidden":"true",class:"esri-icon-notice-triangle",afterCreate:f=>
this._setTooltipReference(f,b)}),this.messages.layerIncompatible):null};x.renderItemContent=function(b,f,g){var {id:p}=this,A=`${p}_${b.uid}`;p=`${A}_actions`;A=`${A}__list`;const {panel:M}=b,Q=this._filterActions(b.actionsSections),P=this._countActions(Q);return[l.tsx("div",{key:"list-item-container",class:"esri-layer-list__item-container"},this.renderChildrenToggle(b,A),this.renderLabel(b,f,g),this.renderActionsMenu(b,Q,P,p)),this.renderItemMessage(b),P?this.renderActionsSections(b,Q,p):null,M&&
M.open?M.render():null,this.renderChildList(b,A)]};x.renderItem=function(b,f){const {_newUI:g,id:p,selectionEnabled:A,selectedItems:M,visibleElements:Q}=this,P=`${`${p}_${b.uid}`}__title`;var W=this._hasMessage(b);W={["esri-layer-list__item--has-children"]:this._hasChildren(b),["esri-layer-list__item--has-message"]:!!W,["esri-layer-list__item--updating"]:b.updating&&!f&&Q.statusIndicators,["esri-layer-list__item--invisible"]:g&&!b.visible,["esri-layer-list__item--invisible-at-scale"]:!b.visibleAtCurrentScale,
["esri-layer-list__item--selectable"]:A};if(A){var ca;const ia={["data-layer-uid"]:null==(ca=b.layer)?void 0:ca.uid,["data-sort-filter"]:(!b.sortable).toString()};return l.tsx("li",{key:`item-with-selection-${b.uid}`,bind:this,afterCreate:this._focusListItem,afterUpdate:this._focusListItem,class:this.classes("esri-layer-list__item",W),"aria-labelledby":P,onclick:this._toggleSelection,onkeydown:this._selectionKeydown,"data-item":b,"data-group":f?f.uid:"root",tabIndex:0,"aria-selected":S.findSelectedItem(b,
M)?"true":"false",role:"option",...ia},this.renderItemContent(b,f,P))}return l.tsx("li",{key:`item-no-selection-${b.uid}`,bind:this,afterCreate:this._focusListItem,afterUpdate:this._focusListItem,class:this.classes("esri-layer-list__item",W),"aria-labelledby":P},this.renderItemContent(b,f,P))};x.renderItemConnectionStatus=function(b){({connectionStatus:b}=b);return b?l.tsx("span",{class:this.classes({["esri-layer-list__connection-status"]:!0,["esri-layer-list__connection-status--disconnected"]:"disconnected"===
b,["esri-layer-list__connection-status--connected"]:"connected"===b}),key:"layer-connection-status"}):null};x.renderItemTitle=function(b,f){const {messages:g}=this;if(!b)return null;const p=b.title||g.untitledLayer;b=b.visibleAtCurrentScale?p:`${p} (${g.layerInvisibleAtScale})`;return l.tsx("span",{key:"layer-title-container",id:f,title:b,"aria-label":b,class:"esri-layer-list__item-title"},p)};x.renderItemToggleIcon=function(b,f){const {_newUI:g}=this,{exclusive:p}=J;f=f&&f.visibilityMode;return l.tsx("span",
{key:"item-toggle-icon",class:this.classes({["esri-layer-list__item-toggle-icon"]:g,["esri-layer-list__item-toggle-icon"]:g&&f!==p,["esri-layer-list__item-radio-icon"]:g&&f===p,["esri-icon-radio-checked"]:f===p&&b.visible,["esri-icon-radio-unchecked"]:f===p&&!b.visible,["esri-icon-visible"]:f!==p&&b.visible,["esri-icon-non-visible"]:f!==p&&!b.visible}),"aria-hidden":"true"})};x.renderItemToggle=function(b,f,g){const {selectionEnabled:p,messages:A}=this,{exclusive:M}=J,Q=f&&f.visibilityMode;return p?
l.tsx("span",{key:"item-toggle-selection-enabled",class:"esri-layer-list__item-toggle",bind:this,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,"data-item":b,"data-parent-visibility":Q,tabIndex:0,title:b.visible?A.hideLayer:A.showLayer,"aria-checked":b.visible?"true":"false",role:Q===M?"radio":"switch","aria-labelledby":g},this.renderItemToggleIcon(b,f)):l.tsx("span",{key:"item-toggle",class:"esri-layer-list__item-toggle"},this.renderItemToggleIcon(b,f))};x.renderLabel=function(b,
f,g){const {selectionEnabled:p,_newUI:A,messages:M}=this,{inherited:Q,exclusive:P}=J,W=null==f?void 0:f.visibilityMode;var ca=W===P?"radio":"switch";f=[this.renderItemToggle(b,f,g),this.renderItemConnectionStatus(b),this.renderItemTitle(b,g)];A&&f.reverse();ca=p?l.tsx("div",{key:`item-label-no-selection-${b.uid}`,class:"esri-layer-list__item-label"},f):l.tsx("div",{key:`item-label-with-selection-${b.uid}`,class:"esri-layer-list__item-label",bind:this,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,
"data-item":b,"data-parent-visibility":W,tabIndex:0,"aria-checked":b.visible?"true":"false",title:b.visible?M.hideLayer:M.showLayer,role:ca,"aria-labelledby":g},f);return W===Q||b.error?l.tsx("div",{key:`item-label-container-${b.uid}`,class:"esri-layer-list__item-label"},this.renderItemTitle(b,g)):ca};x.renderPanelButton=function(b){const {className:f,open:g,title:p,image:A}=b,M=A||f?f:"esri-icon-default-action",Q=this._getIconImageStyles(b),P={["esri-layer-list__item-actions-menu-item--active"]:g},
W={["esri-layer-list__item-action-image"]:!!Q["background-image"]};M&&(W[M]=!!M);return l.tsx("div",{key:`panel-${b.uid}`,bind:this,"data-panel":b,onclick:this._triggerPanel,onkeydown:this._triggerPanel,class:this.classes("esri-layer-list__item-actions-menu-item",P),role:"button",tabindex:"0",title:p,"aria-label":p},l.tsx("span",{class:this.classes(W),styles:Q}))};x.renderActionsSections=function(b,f,g){f=f.toArray().map((p,A)=>l.tsx("ul",{key:`${b}-action-section-${A}`,class:"esri-layer-list__item-actions-list"},
this.renderActionSection(b,p)));return l.tsx("div",{role:"group","aria-expanded":b.actionsOpen?"true":"false",key:"actions-section",id:g,class:"esri-layer-list__item-actions",hidden:b.actionsOpen?null:!0},f)};x.renderActionSection=function(b,f){return(f&&f.toArray()).map(g=>this.renderAction({item:b,action:g}))};x.renderActionIcon=function(b){const {active:f,className:g}=b,p=this._getIconImageStyles(b);b="button"!==b.type||b.image||g?g:"esri-icon-default-action";const A={["esri-layer-list__item-action-image"]:!f&&
!!p["background-image"],["esri-icon-loading-indicator"]:f,["esri-rotating"]:f};b&&!f&&(A[b]=!0);return l.tsx("span",{key:"action-icon","aria-hidden":"true",class:this.classes("esri-layer-list__item-action-icon",A),styles:p})};x.renderActionTitle=function(b,f){return f?null:l.tsx("span",{key:"action-title",class:"esri-layer-list__item-action-title"},b)};x.renderAction=function(b){const {item:f,action:g,singleAction:p}=b,{active:A,disabled:M,title:Q}=g;b={["esri-layer-list__item-actions-menu-item"]:p&&
"button"===g.type,["esri-layer-list__item-action"]:A||!p&&"toggle"!==g.type,["esri-layer-list__action-toggle"]:!A&&"toggle"===g.type,["esri-layer-list__action-toggle--on"]:!A&&"toggle"===g.type&&g.value,["esri-disabled-element"]:M};const P=[this.renderActionIcon(g),this.renderActionTitle(Q,p)];return p?l.tsx("div",{bind:this,"data-item":f,"data-action":g,role:"button",key:`single-action-${g.uid}`,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:b,tabindex:"0",title:Q,"aria-label":Q},
P):l.tsx("li",{bind:this,"data-item":f,"data-action":g,key:`action-${g.uid}`,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:b,tabindex:"0",role:"button",title:Q,"aria-label":Q},P)};x._setTooltipReference=function(b,f){this._tooltipReferenceMap.set(f.uid,b);this.scheduleRender()};x._hasMessage=function(b){return!!b.error||b.incompatible};x._hasChildren=function(b){return!!b.children.length&&!this._hasMessage(b)};x._sortNodeRemoved=function(b){const {_sortableMap:f}=this;b=b.dataset.group;
const g=f.get(b);g&&g.destroy();f.delete(b)};x._destroySortables=function(){const {_sortableMap:b,_sortableNodes:f}=this;b.forEach(g=>g&&g.destroy());b.clear();f.clear()};x._moveLayerFromChildList=function({to:b,from:f,item:g,newIndex:p}){this.viewModel.moveListItem(g["data-item"],f["data-item"],b["data-item"],p)};x._sortLayers=function(b){if(b){var f=b.el["data-item"];b=b.toArray();if(f)S.sortChildLayersToIds(f,b);else{var g,p;S.sortLayersToIds(null==(g=this.view)?void 0:null==(p=g.map)?void 0:p.layers,
b)}}};x._toggleSorting=function(b,f){const {_sortableMap:g,selectionEnabled:p}=this,A=g.get(f);var M=b["data-item"];M=("root"===f?!0:M.childrenSortable&&S.canSortSublayers(M))&&p;A?A.option("disabled",!M):M&&(b=N.Sortable.create(b,{dataIdAttr:"data-layer-uid",group:{name:f,pull:this._sortableCanPull,put:this._sortableCanPut},filter:'[data-sort-filter\x3d"true"]',fallbackTolerance:4,onSort:this._onSortableSort,onEnd:this._onSortableEnd,disabled:!M,chosenClass:"esri-layer-list--chosen"}),g.set(f,b))};
x._toggleAllSorting=function(){this._sortableNodes.forEach((b,f)=>this._toggleSorting(b,f))};x._sortNodeCreated=function(b){const f=b.dataset.group;f&&(this._sortableNodes.set(f,b),this._toggleSorting(b,f))};x._setVisibleItems=function(b){this.visibleItems=null==b?void 0:b.filter(f=>!f.hidden&&(this.errorsVisible||!f.error))};x._getSingleActionButton=function(b){return b.reduce(f=>f).filter(f=>f&&"button"===f.type).getItemAt(0)};x._focusListItem=function(b){var f;const {_focusSortUid:g}=this;b&&g&&
(null==(f=b["data-item"].layer)?void 0:f.uid)===g&&(b.focus(),this._focusSortUid=null)};x._watchActionSectionChanges=function(b,f){const g="action-section"+f;this._handles.add(b.on("change",this.scheduleRender.bind(this)),g);b.forEach(p=>this._renderOnActionChanges(p,f))};x._renderOnActionChanges=function(b,f){f="actions"+f;"toggle"===b.type?this._handles.add(t.watch(()=>[null==b?void 0:b.className,null==b?void 0:b.image,null==b?void 0:b.id,null==b?void 0:b.title,null==b?void 0:b.visible,null==b?
void 0:b.value],()=>this.scheduleRender(),t.initial),f):"slider"===b.type?this._handles.add(t.watch(()=>[null==b?void 0:b.className,null==b?void 0:b.id,null==b?void 0:b.title,null==b?void 0:b.visible,null==b?void 0:b.value,null==b?void 0:b.displayValueEnabled,null==b?void 0:b.max,null==b?void 0:b.min,null==b?void 0:b.step],()=>this.scheduleRender(),t.initial),f):this._handles.add(t.watch(()=>[null==b?void 0:b.className,null==b?void 0:b.image,null==b?void 0:b.id,null==b?void 0:b.title,null==b?void 0:
b.visible],()=>this.scheduleRender(),t.initial),f)};x._renderOnItemChanges=function(b){const f=b.uid,g="items"+f;this._handles.add([t.watch(()=>{var p,A,M;return[null==b?void 0:b.actionsOpen,null==b?void 0:b.visible,null==b?void 0:b.open,null==b?void 0:b.updating,null==b?void 0:b.title,null==b?void 0:b.visibleAtCurrentScale,null==b?void 0:b.error,null==b?void 0:b.visibilityMode,null==b?void 0:b.panel,null==b?void 0:null==(p=b.panel)?void 0:p.title,null==b?void 0:null==(A=b.panel)?void 0:A.content,
null==b?void 0:null==(M=b.panel)?void 0:M.className,null==b?void 0:b.sortable,null==b?void 0:b.childrenSortable]},()=>this.scheduleRender(),t.syncAndInitial),t.watch(()=>[null==b?void 0:b.hidden,null==b?void 0:b.error],()=>this._setVisibleItems(this.operationalItems)),b.actionsSections.on("change",()=>this.scheduleRender()),b.children.on("change",()=>this.scheduleRender())],g);b.children.forEach(p=>this._renderOnItemChanges(p));b.actionsSections.forEach(p=>this._watchActionSectionChanges(p,f))};x._itemsChanged=
function(b){this._handles.removeAll();b.forEach(f=>this._renderOnItemChanges(f));this._tooltipReferenceMap.clear();this._setVisibleItems(b);this.scheduleRender()};x._filterActions=function(b){return b.map(f=>f.filter(g=>g.visible))};x._countActions=function(b){return b.reduce((f,g)=>f+g.length,0)};x._getIconImageStyles=function(b){b="esri.widgets.LayerList.ListItemPanel"===b.declaredClass||"esri.support.Action.ActionButton"===b.declaredClass||"esri.support.Action.ActionToggle"===b.declaredClass?b.image:
null;return{"background-image":b?`url("${b}")`:null}};x._selectionKeydown=function(b){var f=B.eventKey(b);if(["ArrowDown","ArrowUp"].includes(f)){b.stopPropagation();var g=b.currentTarget,p=g["data-item"],{_sortableMap:A,selectedItems:M}=this;if(g=A.get(g.dataset.group)){var Q=S.findSelectedItem(p,M),P=g.toArray();b=P.indexOf(b.target.dataset.layerUid);if(-1!==b){if("ArrowDown"===f){const ra=b+1;if(ra>=P.length)return;if(Q){var W;P.splice(ra,0,P.splice(b,1)[0]);g.sort(P);this._sortLayers(g);this._focusSortUid=
null==(W=p.layer)?void 0:W.uid}else{var ca;this._focusSortUid=null==(ca=p.layer)?void 0:ca.uid;this.scheduleRender()}}if("ArrowUp"===f&&(f=b-1,!(-1>=f)))if(Q){var ia;P.splice(f,0,P.splice(b,1)[0]);g.sort(P);this._sortLayers(g);this._focusSortUid=null==(ia=p.layer)?void 0:ia.uid}else{var za;this._focusSortUid=null==(za=p.layer)?void 0:za.uid;this.scheduleRender()}}}}else this._toggleSelection(b)};x._toggleActionsOpen=function(b){const f=b.currentTarget["data-item"];var {actionsOpen:g}=f;(g=!g)&&this.operationalItems.forEach(p=>
H(p));f.actionsOpen=g;b.stopPropagation()};x._triggerPanel=function(b){const f=b.currentTarget["data-panel"];f&&(f.open=!f.open);b.stopPropagation()};x._triggerAction=function(b){var f=b.currentTarget;const g=f["data-action"];f=f["data-item"];"toggle"===g.type&&(g.value=!g.value);this.triggerAction(g,f);b.stopPropagation()};x._toggleVisibility=function(b){var f=b.currentTarget;const g=f.getAttribute("data-parent-visibility");f=f["data-item"];g===J.exclusive&&f.visible||(f.visible=!f.visible);b.stopPropagation()};
x._toggleChildrenClick=function(b){const f=b.currentTarget["data-item"];f.open=!f.open;b.stopPropagation()};x._toggleSelection=function(b){b.stopPropagation();const {multipleSelectionEnabled:f,selectedItems:g}=this;b=b.currentTarget["data-item"];const p=S.findSelectedItem(b,g),{length:A}=g,M=p&&1===A;f?p?null==g.remove?void 0:g.remove(p):g.add(b):A&&!M?(g.removeAll(),g.add(b)):p?null==g.remove?void 0:g.remove(p):g.add(b)};return aa}(ka);q.__decorate([D.property()],v.prototype,"visibleItems",void 0);
q.__decorate([D.property()],v.prototype,"iconClass",void 0);q.__decorate([D.property()],v.prototype,"errorsVisible",void 0);q.__decorate([D.property({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],v.prototype,"label",void 0);q.__decorate([D.property()],v.prototype,"listItemCanGiveFunction",void 0);q.__decorate([D.property()],v.prototype,"listItemCanReceiveFunction",void 0);q.__decorate([h.aliasOf("viewModel.listItemCreatedFunction")],v.prototype,"listItemCreatedFunction",void 0);q.__decorate([D.property(),
u.messageBundle("esri/widgets/LayerList/t9n/LayerList")],v.prototype,"messages",void 0);q.__decorate([D.property(),u.messageBundle("esri/t9n/common")],v.prototype,"messagesCommon",void 0);q.__decorate([D.property()],v.prototype,"multipleSelectionEnabled",void 0);q.__decorate([h.aliasOf("viewModel.operationalItems")],v.prototype,"operationalItems",void 0);q.__decorate([D.property()],v.prototype,"selectionEnabled",void 0);q.__decorate([D.property()],v.prototype,"selectedItems",void 0);q.__decorate([h.aliasOf("viewModel.view")],
v.prototype,"view",void 0);q.__decorate([G.vmEvent("trigger-action"),D.property({type:oa})],v.prototype,"viewModel",void 0);q.__decorate([D.property()],v.prototype,"visibleElements",void 0);q.__decorate([R.cast("visibleElements")],v.prototype,"castVisibleElements",null);q.__decorate([h.aliasOf("viewModel.triggerAction")],v.prototype,"triggerAction",null);q.__decorate([z.accessibleHandler()],v.prototype,"_toggleActionsOpen",null);q.__decorate([z.accessibleHandler()],v.prototype,"_triggerPanel",null);
q.__decorate([z.accessibleHandler()],v.prototype,"_triggerAction",null);q.__decorate([z.accessibleHandler()],v.prototype,"_toggleVisibility",null);q.__decorate([z.accessibleHandler()],v.prototype,"_toggleChildrenClick",null);q.__decorate([z.accessibleHandler()],v.prototype,"_toggleSelection",null);return v=q.__decorate([L.subclass("esri.widgets.LayerList")],v)})},"esri/widgets/LayerList/LayerListViewModel":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Collection ../../core/Evented ../../core/Handles ../../core/reactiveUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./ListItem ./support/layerListUtils".split(" "),
function(T,K,q,v,B,w,E,t,h,F,R,D,L){const ka=q.ofType(D);q=function(oa){function ha(z){z=oa.call(this,z)||this;z._handles=new B;z.listItemCreatedFunction=null;z.operationalItems=new ka;z.view=null;return z}T._inheritsLoose(ha,oa);var S=ha.prototype;S.initialize=function(){this._handles.add([w.watch(()=>{var z;return[this.view,null==(z=this.view)?void 0:z.ready]},()=>this._viewHandles(),w.initial),w.watch(()=>this.listItemCreatedFunction,()=>this._listItemCreatedFunctionChanged())],"view")};S.destroy=
function(){this._handles.destroy();this.view=this._handles=null;this.operationalItems.removeAll()};S.triggerAction=function(z,u){z&&!z.disabled&&this.emit("trigger-action",{action:z,item:u})};S.moveListItem=function(z,u,G,l){var y,N;const H=null==z?void 0:z.layer;if(H){var n=null==(y=this.view)?void 0:null==(N=y.map)?void 0:N.layers;y=u?L.getItemLayers(u):n;n=G?L.getItemLayers(G):n;y&&n&&({operationalItems:N}=this,u=(null==u?void 0:u.children)||N,N=(null==G?void 0:G.children)||N,l=n.length-l,z.parent=
G||null,u.includes(z)&&u.remove(z),y.includes(H)&&y.remove(H),N.includes(z)||N.add(z,l),n.includes(H)||n.add(H,l))}};S._createLayerViewHandles=function(z){const {_handles:u}=this;u.remove("layer-views");this._compileList();z&&u.add(z.on("change",()=>this._compileList()),"layer-views")};S._createMapLayerHandles=function(z){const {_handles:u}=this;u.remove("map-layers");this._compileList();z&&u.add(z.on("change",()=>this._compileList()),"map-layers")};S._createListItem=function(z){const {view:u,listItemCreatedFunction:G}=
this;return new D({layer:z,listItemCreatedFunction:G,view:u})};S._removeAllItems=function(){const {_handles:z,operationalItems:u}=this;u.forEach(G=>{z.remove(`${"children"}-${G.uid}`)});u.removeAll()};S._getViewableLayers=function(z){if(z)return z.filter(u=>"hide"!==L.findLayerListMode(u))};S._watchLayersListMode=function(z){const {_handles:u}=this;u.remove("layer-list-mode");z&&z.forEach(G=>{"listMode"in G&&u.add(w.watch(()=>G.listMode,()=>this._compileList()),"layer-list-mode")})};S._compileList=
function(){var z=this.get("view.map.layers");this._watchLayersListMode(z);(z=this._getViewableLayers(z))&&z.length?(this._createNewItems(z),this._removeItems(z),this._sortItems(z)):this._removeAllItems()};S._createNewItems=function(z){const {operationalItems:u}=this;z.forEach(G=>{u.find(l=>l.layer===G)||u.add(this._createListItem(G))})};S._removeItems=function(z){const {_handles:u,operationalItems:G}=this,l=[];G.forEach(y=>{y&&z&&z.includes(y.layer)||(u.remove(`${"children"}-${y.uid}`),l.push(y))});
G.removeMany(l)};S._sortItems=function(z){const {operationalItems:u}=this;u.sort((G,l)=>{G=z.indexOf(G.layer);l=z.indexOf(l.layer);return G>l?-1:G<l?1:0})};S._listItemCreatedFunctionChanged=function(){this._removeAllItems();this._compileList()};S._viewHandles=function(){const {_handles:z,view:u}=this;z.remove(["map-layers","layer-views","view-layers"]);this._compileList();u&&u.ready&&z.add([w.watch(()=>{var G,l;return null==(G=this.view)?void 0:null==(l=G.map)?void 0:l.allLayers},G=>this._createMapLayerHandles(G),
w.initial),w.watch(()=>{var G;return null==(G=this.view)?void 0:G.allLayerViews},G=>this._createLayerViewHandles(G),w.initial)],"view-layers")};T._createClass(ha,[{key:"state",get:function(){const z=this.get("view");return this.get("view.ready")?"ready":z?"loading":"disabled"}}]);return ha}(v.EventedAccessor);K.__decorate([E.property()],q.prototype,"listItemCreatedFunction",void 0);K.__decorate([E.property({type:ka})],q.prototype,"operationalItems",void 0);K.__decorate([E.property({readOnly:!0})],
q.prototype,"state",null);K.__decorate([E.property()],q.prototype,"view",void 0);return q=K.__decorate([R.subclass("esri.widgets.LayerList.LayerListViewModel")],q)})},"esri/widgets/LayerList/ListItem":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/Collection ../../core/HandleOwner ../../core/Identifiable ../../core/reactiveUtils ../../core/accessorSupport/decorators/aliasOf ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/subclass ../../support/actions/ActionBase ../../support/actions/ActionButton ../../support/actions/ActionSlider ../../support/actions/ActionToggle ./ListItemPanel ./support/layerListUtils".split(" "),
function(T,K,q,v,B,w,E,t,h,F,R,D,L,ka,oa,ha,S,z,u){var G;h=v.ofType({key:"type",defaultKeyValue:"button",base:ka,typeMap:{button:oa,toggle:S,slider:ha}});const l=v.ofType(h);q=G=function(y){function N(n){n=y.call(this,n)||this;n.actionsSections=new l;n.actionsOpen=!1;n.children=new (v.ofType(G));n.childrenSortable=!0;n.error=null;n.hidden=!1;n.layer=null;n.layerView=null;n.listItemCreatedFunction=null;n.open=!1;n.panel=null;n.parent=null;n.sortable=!0;n.view=null;n.visible=null;return n}T._inheritsLoose(N,
y);var H=N.prototype;H.initialize=function(){this.handles.add([E.watch(()=>this.layer,n=>this._watchLayerProperties(n),E.initial),E.watch(()=>this.view,n=>this._updateChildren(n),E.initial),E.watch(()=>this.panel,n=>this._setListItemOnPanel(n),E.initial),E.watch(()=>[this.layer,this.view],()=>this._getLayerView(),E.initial)]);"function"===typeof this.listItemCreatedFunction&&this.listItemCreatedFunction.call(null,{item:this})};H.destroy=function(){this.view=null};H.castPanel=function(n){this.get("panel.open")&&
!n.hasOwnProperty("open")&&(n.open=!0);return n?new z(n):null};H.clone=function(){return new G({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,children:this.children.clone(),layer:this.layer,listItemCreatedFunction:this.listItemCreatedFunction,open:this.open,panel:this.panel,title:this.title,view:this.view,visible:this.visible})};H._setListItemOnPanel=function(n){n&&(n.listItem=this)};H._updateChildren=function(n){const J=this.children;J&&J.forEach(X=>X.view=n)};H._addChildren=
function(n){this.handles.remove("child-list-mode");this.children.removeAll();if(n){n.forEach(X=>{this.handles.add(E.watch(()=>X.listMode,()=>this._addChildren(n)),"child-list-mode")});var J=n.filter(X=>"hide"!==u.findLayerListMode(X));this.children.addMany(this._makeChildren(J))}};H._watchSublayerChanges=function(n){n&&this.handles.add(n.on("change",()=>{this._addChildren(n)}),"layer")};H._initializeChildLayers=function(n){this._addChildren(n);this._watchSublayerChanges(n)};H._makeChildren=function(n){return n.map(J=>
u.canDisplayLayer(J)?new G({layer:J,listItemCreatedFunction:this.listItemCreatedFunction,parent:this,view:this.view}):null).reverse()};H._watchLayerProperties=function(n){if(this.handles&&(this.handles.remove("layer"),this.handles.remove("child-list-mode"),n))if(this.handles.add(E.watch(()=>n.listMode,()=>this._watchLayerProperties(n)),"layer"),"hide-children"===u.findLayerListMode(n))this.children.removeAll();else{var J=u.getNormalizedChildLayerProperty(n);J&&this.handles.add(E.watch(()=>n[J],()=>
{n.hasOwnProperty(J)&&this._initializeChildLayers(n[J])},E.initial),"layer")}};H._getLayerView=function(){var n=T._asyncToGenerator(function*(){const {layer:J,view:X}=this;if(J&&X)try{const ba=yield X.whenLayerView(J);ba.layer===this.layer&&this._set("layerView",ba)}catch{}});return function(){return n.apply(this,arguments)}}();H._isLayerUpdating=function(n){return n&&"loading"===n.loadStatus};T._createClass(N,[{key:"connectionStatus",get:function(){const {layerView:n}=this;if(n&&"connectionStatus"in
n)return n.connectionStatus}},{key:"incompatible",get:function(){const {layerView:n}=this;return n&&"spatialReferenceSupported"in n?!n.spatialReferenceSupported:!1}},{key:"title",get:function(){const n=this.get("layer.layer");return(!n||n&&this.get("layer.layer.loaded"))&&this.get("layer.title")||this.get("layer.attributes.title")||""},set:function(n){void 0===n?this._clearOverride("title"):this._override("title",n)}},{key:"updating",get:function(){const {layerView:n,connectionStatus:J}=this;return J?
!1:n?n.updating:this._isLayerUpdating(this.layer)}},{key:"visibleAtCurrentScale",get:function(){return!u.isLayerOutsideScaleRange(this.layer,this.get("view.scale"))}},{key:"visibilityMode",get:function(){return u.findLayerVisibilityMode(this.layer)}}]);return N}(w.IdentifiableMixin(B.HandleOwnerMixin(q)));K.__decorate([D.property({type:l})],q.prototype,"actionsSections",void 0);K.__decorate([D.property()],q.prototype,"actionsOpen",void 0);K.__decorate([D.property({type:v})],q.prototype,"children",
void 0);K.__decorate([D.property()],q.prototype,"childrenSortable",void 0);K.__decorate([D.property({readOnly:!0})],q.prototype,"connectionStatus",null);K.__decorate([t.aliasOf("layer.loadError?")],q.prototype,"error",void 0);K.__decorate([D.property()],q.prototype,"hidden",void 0);K.__decorate([D.property({readOnly:!0})],q.prototype,"incompatible",null);K.__decorate([D.property()],q.prototype,"layer",void 0);K.__decorate([D.property({readOnly:!0})],q.prototype,"layerView",void 0);K.__decorate([D.property()],
q.prototype,"listItemCreatedFunction",void 0);K.__decorate([D.property()],q.prototype,"open",void 0);K.__decorate([D.property({type:z})],q.prototype,"panel",void 0);K.__decorate([R.cast("panel")],q.prototype,"castPanel",null);K.__decorate([D.property()],q.prototype,"parent",void 0);K.__decorate([D.property()],q.prototype,"sortable",void 0);K.__decorate([D.property()],q.prototype,"title",null);K.__decorate([D.property({readOnly:!0})],q.prototype,"updating",null);K.__decorate([D.property({value:null})],
q.prototype,"view",void 0);K.__decorate([t.aliasOf("layer.visible")],q.prototype,"visible",void 0);K.__decorate([D.property({readOnly:!0})],q.prototype,"visibleAtCurrentScale",null);K.__decorate([D.property({readOnly:!0})],q.prototype,"visibilityMode",null);return q=G=K.__decorate([L.subclass("esri.widgets.LayerList.ListItem")],q)})},"esri/support/actions/ActionSlider":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./ActionBase".split(" "),
function(T,K,q,v,B,w,E,t){var h;v=h=function(F){function R(D){D=F.call(this,D)||this;D.displayValueEnabled=!1;D.max=1;D.min=0;D.step=.1;D.type="slider";D.value=null;return D}T._inheritsLoose(R,F);R.prototype.clone=function(){return new h({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,displayValueEnabled:this.displayValueEnabled,max:this.max,min:this.min,step:this.step,value:this.value})};return R}(t);K.__decorate([q.property()],
v.prototype,"displayValueEnabled",void 0);K.__decorate([q.property()],v.prototype,"max",void 0);K.__decorate([q.property()],v.prototype,"min",void 0);K.__decorate([q.property()],v.prototype,"step",void 0);K.__decorate([q.property()],v.prototype,"value",void 0);return v=h=K.__decorate([E.subclass("esri.support.Action.ActionSlider")],v)})},"esri/widgets/LayerList/ListItemPanel":function(){define("require ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Handles ../../core/Identifiable ../../core/reactiveUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../Widget ./support/layerListUtils ../support/widget ../support/jsxFactory".split(" "),
function(T,K,q,v,B,w,E,t,h,F,R,D,L,ka,oa){B=function(ha){function S(u,G){u=ha.call(this,u,G)||this;u._legend=null;u._handles=new v;u.content=null;u.image=null;u.listItem=null;u.open=!1;u.visible=!0;return u}K._inheritsLoose(S,ha);var z=S.prototype;z.initialize=function(){this.own([w.watch(()=>this.content,u=>this._createLegend(u),w.initial)])};z.destroy=function(){const {_legend:u}=this;u&&u.destroy();this._legend=null};z.render=function(){return oa.tsx("div",{class:"esri-layer-list-panel"},this._renderContents())};
z._renderContent=function(u){const {_legend:G,listItem:l}=this;return u?"legend"===u?l&&l.view&&l.layer&&G?oa.tsx("div",{class:this.classes("esri-layer-list-panel__content","esri-layer-list-panel__content--legend"),key:G},G.render()):null:"string"===typeof u?oa.tsx("div",{class:this.classes("esri-layer-list-panel__content","esri-layer-list-panel__content--string"),key:u,innerHTML:u}):ka.isWidget(u)?oa.tsx("div",{class:this.classes("esri-layer-list-panel__content","esri-layer-list-panel__content--widget"),
key:u},u.render()):u instanceof HTMLElement?oa.tsx("div",{class:this.classes("esri-layer-list-panel__content","esri-layer-list-panel__content--html-element"),key:u,bind:u,afterCreate:this._attachToNode}):null:null};z._renderContents=function(){const {content:u}=this;return Array.isArray(u)?u.map(G=>this._renderContent(G)):this._renderContent(u)};z._getLegendOptions=function(){const {listItem:u}=this;if(!u)return{};const {layer:G,view:l}=u;return G&&l?{view:l,layerInfos:[L.getLegendLayerInfo(G)]}:
{}};z._createLegend=function(u){this._hasLegend(u)&&!this._legend&&(new Promise((G,l)=>T(["../Legend"],y=>G(Object.freeze(Object.defineProperty({__proto__:null,default:y},Symbol.toStringTag,{value:"Module"}))),l))).then(({default:G})=>{const {_handles:l,listItem:y}=this,N=new G(this._getLegendOptions());this._legend=N;this.notifyChange("className");this.notifyChange("title");G=w.watch(()=>{var H,n;return[null==y?void 0:y.view,null==y?void 0:y.layer,null==y?void 0:null==(H=y.layer)?void 0:H.source,
null==y?void 0:null==(n=y.layer)?void 0:n.parent]},()=>this._updateLegend(N),w.initial);l.add(G,"legends");this.scheduleRender()})};z._hasLegend=function(u){return"legend"===u?!0:Array.isArray(u)?u.includes("legend"):!1};z._attachToNode=function(u){u.appendChild(this)};z._updateLegend=function(u){u.set(this._getLegendOptions());this.scheduleRender()};z._getWidget=function(u){return"legend"===u?this._legend:ka.isWidget(u)?u:null};z._getFirstWidget=function(){const {content:u}=this;if(Array.isArray(u)){let G=
null;u.some(l=>{(l=this._getWidget(l))&&(G=l);return!!l});return G}return this._getWidget(u)};K._createClass(S,[{key:"className",get:function(){const {image:u}=this,G=this._getFirstWidget();return this._get("className")||!u&&G?G.iconClass:""},set:function(u){void 0===u?this._clearOverride("className"):this._override("className",u)}},{key:"title",get:function(){const u=this._getFirstWidget();return this._get("title")||u?u.label:""},set:function(u){void 0===u?this._clearOverride("title"):this._override("title",
u)}}]);return S}(B.IdentifiableMixin(D));q.__decorate([E.property()],B.prototype,"className",null);q.__decorate([E.property()],B.prototype,"content",void 0);q.__decorate([E.property()],B.prototype,"image",void 0);q.__decorate([E.property()],B.prototype,"listItem",void 0);q.__decorate([E.property()],B.prototype,"title",null);q.__decorate([E.property()],B.prototype,"open",void 0);q.__decorate([E.property()],B.prototype,"visible",void 0);return B=q.__decorate([R.subclass("esri.widgets.LayerList.ListItemPanel")],
B)})},"esri/widgets/LayerList/support/layerListUtils":function(){define(["exports"],function(T){function K(h){if(h)return null!=h.listMode?h.listMode:void 0}function q(h){if(h)return null!=h.minScale?h.minScale:void 0}function v(h){if(h)return null!=h.maxScale?h.maxScale:void 0}function B(h){if(h){if(!("type"in h))return"sublayers";if(h.listMode!==t.hideChildren&&"wmts"!==h.type)switch(h.type){case "group":return"layers";default:return"sublayers"}}}function w(h,F){h&&h.sort((R,D)=>{R=F.indexOf(R.uid);
D=F.indexOf(D.uid);return R>D?-1:R<D?1:0})}function E(h){return!(null==h||!h.layer)}const t={hide:"hide",hideChildren:"hide-children"};T.canDisplayLayer=function(h){return K(h)!==t.hide};T.canSortSublayers=function(h){h=h&&(h.get("layer.layer")||h.layer);if(!h)return!1;h=h.get("capabilities.exportMap.supportsDynamicLayers");return"boolean"===typeof h?h:!0};T.findLayerListMode=K;T.findLayerMaxScale=v;T.findLayerMinScale=q;T.findLayerVisibilityMode=function(h){if(!h)return"inherited";var F=h.get("layer.capabilities.exportMap.supportsSublayerVisibility");
if("boolean"===typeof F)return F?"independent":"inherited";F=h.get("capabilities.exportMap.supportsSublayerVisibility");return"boolean"===typeof F?F?"independent":"inherited":null!=h.visibilityMode?h.visibilityMode:"independent"};T.findSelectedItem=function(h,F){var R;const D=null==(R=h.layer)?void 0:R.uid;return D&&F.find(L=>{var ka;return(null==(ka=L.layer)?void 0:ka.uid)===D})};T.getItemLayers=function(h){return(h=null==h?void 0:h.layer)&&"group"===h.type?h.layers:null};T.getLegendLayerInfo=function(h){var F=
E(h)?h:null;const R=null==h?void 0:h.parent;return(F="map-image"===(null==R?void 0:R.type)&&F.source)&&R?{layer:R,title:"",sublayerIds:[F.mapLayerId]}:{layer:h,title:""}};T.getNormalizedChildLayerProperty=B;T.isLayerOutsideScaleRange=function(h,F){if(!h||isNaN(F))return!1;var R=q(h);h=v(h);R=!isNaN(R)&&0<R&&F>R;F=!isNaN(h)&&0<h&&F<h;return R||F};T.isSublayer=E;T.sortChildLayersToIds=function(h,F){if(h=null==h?void 0:h.layer){var R=B(h);R&&(h=h.get(R),w(h,F))}};T.sortLayersToIds=w;Object.defineProperties(T,
{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/chunks/sortable.esm":function(){define(["exports"],function(T){function K(a,c){var d=Object.keys(a);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(a);c&&(e=e.filter(function(k){return Object.getOwnPropertyDescriptor(a,k).enumerable}));d.push.apply(d,e)}return d}function q(a){for(var c=1;c<arguments.length;c++){var d=null!=arguments[c]?arguments[c]:{};c%2?K(Object(d),!0).forEach(function(e){var k=d[e];e in
a?Object.defineProperty(a,e,{value:k,enumerable:!0,configurable:!0,writable:!0}):a[e]=k}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(d)):K(Object(d)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(d,e))})}return a}function v(a){"@babel/helpers - typeof";v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"===typeof Symbol&&c.constructor===Symbol&&
c!==Symbol.prototype?"symbol":typeof c};return v(a)}function B(){B=Object.assign||function(a){for(var c=1;c<arguments.length;c++){var d=arguments[c],e;for(e in d)Object.prototype.hasOwnProperty.call(d,e)&&(a[e]=d[e])}return a};return B.apply(this,arguments)}function w(a,c){if(null==a)return{};if(null==a)var d={};else{d={};var e=Object.keys(a),k;for(k=0;k<e.length;k++){var m=e[k];0<=c.indexOf(m)||(d[m]=a[m])}}if(Object.getOwnPropertySymbols)for(k=Object.getOwnPropertySymbols(a),m=0;m<k.length;m++)e=
k[m],0<=c.indexOf(e)||Object.prototype.propertyIsEnumerable.call(a,e)&&(d[e]=a[e]);return d}function E(a){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(a)}function t(a,c,d){a.addEventListener(c,d,!Fa&&wb)}function h(a,c,d){a.removeEventListener(c,d,!Fa&&wb)}function F(a,c){if(c){"\x3e"===c[0]&&(c=c.substring(1));if(a)try{if(a.matches)return a.matches(c);if(a.msMatchesSelector)return a.msMatchesSelector(c);if(a.webkitMatchesSelector)return a.webkitMatchesSelector(c)}catch(d){}return!1}}
function R(a,c,d,e){if(a){d=d||document;do{if(null!=c&&("\x3e"===c[0]?a.parentNode===d&&F(a,c):F(a,c))||e&&a===d)return a;if(a===d)break}while(a=a.host&&a!==document&&a.host.nodeType?a.host:a.parentNode)}return null}function D(a,c,d){if(a&&c)if(a.classList)a.classList[d?"add":"remove"](c);else{var e=(" "+a.className+" ").replace(xb," ").replace(" "+c+" "," ");a.className=(e+(d?" "+c:"")).replace(xb," ")}}function L(a,c,d){var e=a&&a.style;if(e){if(void 0===d)return document.defaultView&&document.defaultView.getComputedStyle?
d=document.defaultView.getComputedStyle(a,""):a.currentStyle&&(d=a.currentStyle),void 0===c?d:d[c];c in e||-1!==c.indexOf("webkit")||(c="-webkit-"+c);e[c]=d+("string"===typeof d?"":"px")}}function ka(a,c){var d="";if("string"===typeof a)d=a;else{do{var e=L(a,"transform");e&&"none"!==e&&(d=e+" "+d)}while(!c&&(a=a.parentNode))}return(a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix)&&new a(d)}function oa(a,c,d){if(a){a=a.getElementsByTagName(c);c=0;var e=a.length;if(d)for(;c<
e;c++)d(a[c],c);return a}return[]}function ha(){var a=document.scrollingElement;return a?a:document.documentElement}function S(a,c,d,e,k){if(a.getBoundingClientRect||a===window){if(a!==window&&a.parentNode&&a!==ha()){var m=a.getBoundingClientRect();var r=m.top;var I=m.left;var O=m.bottom;var U=m.right;var V=m.height;var Z=m.width}else I=r=0,O=window.innerHeight,U=window.innerWidth,V=window.innerHeight,Z=window.innerWidth;if((c||d)&&a!==window&&(k=k||a.parentNode,!Fa)){do if(k&&k.getBoundingClientRect&&
("none"!==L(k,"transform")||d&&"static"!==L(k,"position"))){O=k.getBoundingClientRect();r-=O.top+parseInt(L(k,"border-top-width"));I-=O.left+parseInt(L(k,"border-left-width"));O=r+m.height;U=I+m.width;break}while(k=k.parentNode)}e&&a!==window&&(e=(a=ka(k||a))&&a.a,k=a&&a.d,a&&(r/=k,I/=e,Z/=e,V/=k,O=r+V,U=I+Z));return{top:r,left:I,bottom:O,right:U,width:Z,height:V}}}function z(a,c,d){var e=H(a,!0);for(a=S(a)[c];e;){c=S(e)[d];var k=void 0;k="top"===d||"left"===d?a>=c:a<=c;if(!k)return e;if(e===ha())break;
e=H(e,!1)}return!1}function u(a,c,d,e){for(var k=0,m=0,r=a.children;m<r.length;){if("none"!==r[m].style.display&&r[m]!==b.ghost&&(e||r[m]!==b.dragged)&&R(r[m],d.draggable,a,!1)){if(k===c)return r[m];k++}m++}return null}function G(a,c){for(a=a.lastElementChild;a&&(a===b.ghost||"none"===L(a,"display")||c&&!F(a,c));)a=a.previousElementSibling;return a||null}function l(a,c){var d=0;if(!a||!a.parentNode)return-1;for(;a=a.previousElementSibling;)"TEMPLATE"===a.nodeName.toUpperCase()||a===b.clone||c&&!F(a,
c)||d++;return d}function y(a){var c=0,d=0,e=ha();if(a){do{var k=ka(a),m=k.d;c+=a.scrollLeft*k.a;d+=a.scrollTop*m}while(a!==e&&(a=a.parentNode))}return[c,d]}function N(a,c){for(var d in a)if(a.hasOwnProperty(d))for(var e in c)if(c.hasOwnProperty(e)&&c[e]===a[d][e])return Number(d);return-1}function H(a,c){if(!a||!a.getBoundingClientRect)return ha();var d=!1;do if(a.clientWidth<a.scrollWidth||a.clientHeight<a.scrollHeight){var e=L(a);if(a.clientWidth<a.scrollWidth&&("auto"==e.overflowX||"scroll"==
e.overflowX)||a.clientHeight<a.scrollHeight&&("auto"==e.overflowY||"scroll"==e.overflowY)){if(!a.getBoundingClientRect||a===document.body)break;if(d||c)return a;d=!0}}while(a=a.parentNode);return ha()}function n(a,c){return Math.round(a.top)===Math.round(c.top)&&Math.round(a.left)===Math.round(c.left)&&Math.round(a.height)===Math.round(c.height)&&Math.round(a.width)===Math.round(c.width)}function J(a,c){return function(){if(!Sa){var d=arguments;1===d.length?a.call(this,d[0]):a.apply(this,d);Sa=setTimeout(function(){Sa=
void 0},c)}}}function X(a,c,d){a.scrollLeft+=c;a.scrollTop+=d}function ba(a){var c=window.Polymer,d=window.jQuery||window.Zepto;return c&&c.dom?c.dom(a).cloneNode(!0):d?d(a).clone(!0)[0]:a.cloneNode(!0)}function aa(){var a=[],c;return{captureAnimationState:function(){a=[];this.options.animation&&[].slice.call(this.el.children).forEach(function(d){if("none"!==L(d,"display")&&d!==b.ghost){a.push({target:d,rect:S(d)});var e=q({},a[a.length-1].rect);if(d.thisAnimationDuration){var k=ka(d,!0);k&&(e.top-=
k.f,e.left-=k.e)}d.fromRect=e}})},addAnimationState:function(d){a.push(d)},removeAnimationState:function(d){a.splice(N(a,{target:d}),1)},animateAll:function(d){var e=this;if(this.options.animation){var k=!1,m=0;a.forEach(function(r){var I=0,O=r.target,U=O.fromRect,V=S(O),Z=O.prevFromRect,pa=O.prevToRect;r=r.rect;var ma=ka(O,!0);ma&&(V.top-=ma.f,V.left-=ma.e);O.toRect=V;O.thisAnimationDuration&&n(Z,V)&&!n(U,V)&&(r.top-V.top)/(r.left-V.left)===(U.top-V.top)/(U.left-V.left)&&(I=Math.sqrt(Math.pow(Z.top-
r.top,2)+Math.pow(Z.left-r.left,2))/Math.sqrt(Math.pow(Z.top-pa.top,2)+Math.pow(Z.left-pa.left,2))*e.options.animation);n(V,U)||(O.prevFromRect=U,O.prevToRect=V,I||(I=e.options.animation),e.animate(O,r,V,I));I&&(k=!0,m=Math.max(m,I),clearTimeout(O.animationResetTimer),O.animationResetTimer=setTimeout(function(){O.animationTime=0;O.prevFromRect=null;O.fromRect=null;O.prevToRect=null;O.thisAnimationDuration=null},I),O.thisAnimationDuration=I)});clearTimeout(c);k?c=setTimeout(function(){"function"===
typeof d&&d()},m):"function"===typeof d&&d();a=[]}else clearTimeout(c),"function"===typeof d&&d()},animate:function(d,e,k,m){if(m){L(d,"transition","");L(d,"transform","");var r=ka(this.el),I=(e.left-k.left)/(r&&r.a||1);e=(e.top-k.top)/(r&&r.d||1);d.animatingX=!!I;d.animatingY=!!e;L(d,"transform","translate3d("+I+"px,"+e+"px,0)");this.forRepaintDummy=d.offsetWidth;L(d,"transition","transform "+m+"ms"+(this.options.easing?" "+this.options.easing:""));L(d,"transform","translate3d(0,0,0)");"number"===
typeof d.animated&&clearTimeout(d.animated);d.animated=setTimeout(function(){L(d,"transition","");L(d,"transform","");d.animated=!1;d.animatingX=!1;d.animatingY=!1},m)}}}}function x(a){var c=q({putSortable:qa,cloneEl:ja,targetEl:C,rootEl:fa,oldIndex:Na,oldDraggableIndex:Ta,newIndex:wa,newDraggableIndex:Ha},a);a=c.sortable;var d=c.rootEl,e=c.name,k=c.targetEl,m=c.cloneEl,r=c.toEl,I=c.fromEl,O=c.oldIndex,U=c.newIndex,V=c.oldDraggableIndex,Z=c.newDraggableIndex,pa=c.originalEvent,ma=c.putSortable,sa=
c.extraEventProperties;if(a=a||d&&d[xa]){var ea=a.options,ya="on"+e.charAt(0).toUpperCase()+e.substr(1);!window.CustomEvent||Fa||Ua?(c=document.createEvent("Event"),c.initEvent(e,!0,!0)):c=new CustomEvent(e,{bubbles:!0,cancelable:!0});c.to=r||d;c.from=I||d;c.item=k||d;c.clone=m;c.oldIndex=O;c.newIndex=U;c.oldDraggableIndex=V;c.newDraggableIndex=Z;c.originalEvent=pa;c.pullMode=ma?ma.lastPutMode:void 0;e=q(q({},sa),Va.getEventProperties(e,a));for(var Aa in e)c[Aa]=e[Aa];d&&d.dispatchEvent(c);ea[ya]&&
ea[ya].call(a,c)}}function b(a,c){if(!a||!a.nodeType||1!==a.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(a));this.el=a;this.options=c=B({},c);a[xa]=this;var d={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(a.nodeName)?"\x3eli":"\x3e*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return yb(a,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",
ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(m,r){m.setData("Text",r.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==b.supportPointer&&"PointerEvent"in window&&!Wa,emptyInsertThreshold:5};
Va.initializePlugins(this,a,d);for(var e in d)e in c||(c[e]=d[e]);zb(c);for(var k in this)"_"===k.charAt(0)&&"function"===typeof this[k]&&(this[k]=this[k].bind(this));if(this.nativeDraggable=c.forceFallback?!1:Kb)this.options.touchStartThreshold=1;c.supportPointer?t(a,"pointerdown",this._onTapStart):(t(a,"mousedown",this._onTapStart),t(a,"touchstart",this._onTapStart));this.nativeDraggable&&(t(a,"dragover",this),t(a,"dragenter",this));bb.push(this.el);c.store&&c.store.get&&this.sort(c.store.get(this)||
[]);B(this,aa())}function f(a,c,d,e,k,m,r,I){var O=a[xa],U=O.options.onMove,V;if(!window.CustomEvent||Fa||Ua){var Z=document.createEvent("Event");Z.initEvent("move",!0,!0)}else Z=new CustomEvent("move",{bubbles:!0,cancelable:!0});Z.to=c;Z.from=a;Z.dragged=d;Z.draggedRect=e;Z.related=k||c;Z.relatedRect=m||S(c);Z.willInsertAfter=I;Z.originalEvent=r;a.dispatchEvent(Z);U&&(V=U.call(O,Z,r));return V}function g(a){a.draggable=!1}function p(){mb=!1}function A(a,c,d){d=S(u(d.el,0,d.options,!0));return c?
a.clientX<d.left-10||a.clientY<d.top&&a.clientX<d.right:a.clientY<d.top-10||a.clientY<d.bottom&&a.clientX<d.left}function M(a,c,d){d=S(G(d.el,d.options.draggable));return c?a.clientX>d.right+10||a.clientX<=d.right&&a.clientY>d.bottom&&a.clientX>=d.left:a.clientX>d.right&&a.clientY>d.top||a.clientX<=d.right&&a.clientY>d.bottom+10}function Q(a,c,d,e,k,m,r,I){a=e?a.clientY:a.clientX;var O=e?d.height:d.width,U=e?d.top:d.left;d=e?d.bottom:d.right;e=!1;if(!r)if(I&&cb<O*k)if(!Xa&&(1===Ya?a>U+O*m/2:a<d-O*
m/2)&&(Xa=!0),Xa)e=!0;else{if(1===Ya?a<U+cb:a>d-cb)return-Ya}else if(a>U+O*(1-k)/2&&a<d-O*(1-k)/2)return c=l(C)<l(c)?1:-1,c;if(e||r)if(a<U+O*m/2||a>d-O*m/2)return a>U+O/2?1:-1;return 0}function P(a){a=a.tagName+a.className+a.src+a.href+a.textContent;for(var c=a.length,d=0;c--;)d+=a.charCodeAt(c);return d.toString(36)}function W(a){db.length=0;a=a.getElementsByTagName("input");for(var c=a.length;c--;){var d=a[c];d.checked&&db.push(d)}}function ca(a){return setTimeout(a,0)}function ia(){na.forEach(function(a){clearInterval(a.pid)});
na=[]}function za(){}function ra(){}var Fa=E(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ua=E(/Edge/i),Ab=E(/firefox/i),Wa=E(/safari/i)&&!E(/chrome/i)&&!E(/android/i),Za=E(/iP(ad|od|hone)/i),Bb=E(/chrome/i)&&E(/android/i),wb={capture:!1,passive:!1},xb=/\s+/g,Sa,xa="Sortable"+(new Date).getTime(),Oa=[],nb={initializeByDefault:!0},Va={mount:function(a){for(var c in nb)!nb.hasOwnProperty(c)||c in a||(a[c]=nb[c]);Oa.forEach(function(d){if(d.pluginName===a.pluginName)throw"Sortable: Cannot mount plugin ".concat(a.pluginName,
" more than once");});Oa.push(a)},pluginEvent:function(a,c,d){var e=this;this.eventCanceled=!1;d.cancel=function(){e.eventCanceled=!0};var k=a+"Global";Oa.forEach(function(m){if(c[m.pluginName]){if(c[m.pluginName][k])c[m.pluginName][k](q({sortable:c},d));if(c.options[m.pluginName]&&c[m.pluginName][a])c[m.pluginName][a](q({sortable:c},d))}})},initializePlugins:function(a,c,d,e){Oa.forEach(function(m){var r=m.pluginName;if(a.options[r]||m.initializeByDefault)m=new m(a,c,a.options),m.sortable=a,m.options=
a.options,a[r]=m,B(d,m.defaults)});for(var k in a.options)a.options.hasOwnProperty(k)&&(e=this.modifyOption(a,k,a.options[k]),"undefined"!==typeof e&&(a.options[k]=e))},getEventProperties:function(a,c){var d={};Oa.forEach(function(e){"function"===typeof e.eventProperties&&B(d,e.eventProperties.call(c[e.pluginName],a))});return d},modifyOption:function(a,c,d){var e;Oa.forEach(function(k){a[k.pluginName]&&k.optionListeners&&"function"===typeof k.optionListeners[c]&&(e=k.optionListeners[c].call(a[k.pluginName],
d))});return e}},Lb=["evt"],va=function(a,c){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},e=d.evt;d=w(d,Lb);Va.pluginEvent.bind(b)(a,c,q({dragEl:C,parentEl:la,ghostEl:Y,rootEl:fa,nextEl:Ka,lastDownEl:eb,cloneEl:ja,cloneHidden:Ia,dragStarted:$a,putSortable:qa,activeSortable:b.active,originalEvent:e,oldIndex:Na,oldDraggableIndex:Ta,newIndex:wa,newDraggableIndex:Ha,hideGhostForTarget:Cb,unhideGhostForTarget:Db,cloneNowHidden:function(){Ia=!0},cloneNowShown:function(){Ia=!1},dispatchSortableEvent:function(k){x({sortable:c,
name:k,originalEvent:e})}},d))},C,la,Y,fa,Ka,eb,ja,Ia,Na,wa,Ta,Ha,fb,qa,Pa=!1,gb=!1,bb=[],La,Ba,ob,pb,Eb,Fb,$a,Qa,Ya,Xa=!1,hb=!1,cb,ta,qb=[],mb=!1,db=[],ib="undefined"!==typeof document,Gb=Ua||Fa?"cssFloat":"float",Kb=ib&&!Bb&&!Za&&"draggable"in document.createElement("div"),Hb=function(){if(ib){if(Fa)return!1;var a=document.createElement("x");a.style.cssText="pointer-events:auto";return"auto"===a.style.pointerEvents}}(),yb=function(a,c){var d=L(a),e=parseInt(d.width)-parseInt(d.paddingLeft)-parseInt(d.paddingRight)-
parseInt(d.borderLeftWidth)-parseInt(d.borderRightWidth),k=u(a,0,c);a=u(a,1,c);var m=k&&L(k);c=a&&L(a);var r=m&&parseInt(m.marginLeft)+parseInt(m.marginRight)+S(k).width,I=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+S(a).width;return"flex"===d.display?"column"===d.flexDirection||"column-reverse"===d.flexDirection?"vertical":"horizontal":"grid"===d.display?1>=d.gridTemplateColumns.split(" ").length?"vertical":"horizontal":k&&m["float"]&&"none"!==m["float"]?(d="left"===m["float"]?"left":"right",
!a||"both"!==c.clear&&c.clear!==d?"horizontal":"vertical"):k&&("block"===m.display||"flex"===m.display||"table"===m.display||"grid"===m.display||r>=e&&"none"===d[Gb]||a&&"none"===d[Gb]&&r+I>e)?"vertical":"horizontal"},Mb=function(a,c,d){var e=d?a.left:a.top,k=d?a.right:a.bottom;a=d?a.width:a.height;var m=d?c.left:c.top,r=d?c.right:c.bottom;c=d?c.width:c.height;return e===m||k===r||e+a/2===m+c/2},Nb=function(a,c){var d;bb.some(function(e){var k=e[xa].options.emptyInsertThreshold;if(k&&!G(e)){var m=
S(e),r=c>=m.top-k&&c<=m.bottom+k;if(a>=m.left-k&&a<=m.right+k&&r)return d=e}});return d},zb=function(a){function c(k,m){return function(r,I,O,U){var V=r.options.group.name&&I.options.group.name&&r.options.group.name===I.options.group.name;if(null==k&&(m||V))return!0;if(null==k||!1===k)return!1;if(m&&"clone"===k)return k;if("function"===typeof k)return c(k(r,I,O,U),m)(r,I,O,U);r=(m?r:I).options.group.name;return!0===k||"string"===typeof k&&k===r||k.join&&-1<k.indexOf(r)}}var d={},e=a.group;e&&"object"==
v(e)||(e={name:e});d.name=e.name;d.checkPull=c(e.pull,!0);d.checkPut=c(e.put);d.revertClone=e.revertClone;a.group=d},Cb=function(){!Hb&&Y&&L(Y,"display","none")},Db=function(){!Hb&&Y&&L(Y,"display","")};ib&&!Bb&&document.addEventListener("click",function(a){if(gb)return a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.stopImmediatePropagation&&a.stopImmediatePropagation(),gb=!1},!0);var Ma=function(a){if(C){a=a.touches?a.touches[0]:a;var c=Nb(a.clientX,a.clientY);if(c){var d={},e;for(e in a)a.hasOwnProperty(e)&&
(d[e]=a[e]);d.target=d.rootEl=c;d.preventDefault=void 0;d.stopPropagation=void 0;c[xa]._onDragOver(d)}}},Ob=function(a){C&&C.parentNode[xa]._isOutsideThisEl(a.target)};b.prototype={constructor:b,_isOutsideThisEl:function(a){this.el.contains(a)||a===this.el||(Qa=null)},_getDirection:function(a,c){return"function"===typeof this.options.direction?this.options.direction.call(this,a,c,C):this.options.direction},_onTapStart:function(a){if(a.cancelable){var c=this,d=this.el,e=this.options,k=e.preventOnFilter,
m=a.type,r=a.touches&&a.touches[0]||a.pointerType&&"touch"===a.pointerType&&a,I=(r||a).target,O=a.target.shadowRoot&&(a.path&&a.path[0]||a.composedPath&&a.composedPath()[0])||I,U=e.filter;W(d);if(!(C||/mousedown|pointerdown/.test(m)&&0!==a.button||e.disabled||O.isContentEditable||!this.nativeDraggable&&Wa&&I&&"SELECT"===I.tagName.toUpperCase()||(I=R(I,e.draggable,d,!1),I&&I.animated||eb===I))){Na=l(I);Ta=l(I,e.draggable);if("function"===typeof U){if(U.call(this,a,I,this)){x({sortable:c,rootEl:O,name:"filter",
targetEl:I,toEl:d,fromEl:d});va("filter",c,{evt:a});k&&a.cancelable&&a.preventDefault();return}}else if(U&&(U=U.split(",").some(function(V){if(V=R(O,V.trim(),d,!1))return x({sortable:c,rootEl:V,name:"filter",targetEl:I,fromEl:d,toEl:d}),va("filter",c,{evt:a}),!0}))){k&&a.cancelable&&a.preventDefault();return}e.handle&&!R(O,e.handle,d,!1)||this._prepareDragStart(a,r,I)}}},_prepareDragStart:function(a,c,d){var e=this,k=e.el,m=e.options,r=k.ownerDocument;if(d&&!C&&d.parentNode===k){var I=S(d);fa=k;C=
d;la=C.parentNode;Ka=C.nextSibling;eb=d;fb=m.group;b.dragged=C;La={target:C,clientX:(c||a).clientX,clientY:(c||a).clientY};Eb=La.clientX-I.left;Fb=La.clientY-I.top;this._lastX=(c||a).clientX;this._lastY=(c||a).clientY;C.style["will-change"]="all";d=function(){va("delayEnded",e,{evt:a});b.eventCanceled?e._onDrop():(e._disableDelayedDragEvents(),!Ab&&e.nativeDraggable&&(C.draggable=!0),e._triggerDragStart(a,c),x({sortable:e,name:"choose",originalEvent:a}),D(C,m.chosenClass,!0))};m.ignore.split(",").forEach(function(O){oa(C,
O.trim(),g)});t(r,"dragover",Ma);t(r,"mousemove",Ma);t(r,"touchmove",Ma);t(r,"mouseup",e._onDrop);t(r,"touchend",e._onDrop);t(r,"touchcancel",e._onDrop);Ab&&this.nativeDraggable&&(this.options.touchStartThreshold=4,C.draggable=!0);va("delayStart",this,{evt:a});!m.delay||m.delayOnTouchOnly&&!c||this.nativeDraggable&&(Ua||Fa)?d():b.eventCanceled?this._onDrop():(t(r,"mouseup",e._disableDelayedDrag),t(r,"touchend",e._disableDelayedDrag),t(r,"touchcancel",e._disableDelayedDrag),t(r,"mousemove",e._delayedDragTouchMoveHandler),
t(r,"touchmove",e._delayedDragTouchMoveHandler),m.supportPointer&&t(r,"pointermove",e._delayedDragTouchMoveHandler),e._dragStartTimer=setTimeout(d,m.delay))}},_delayedDragTouchMoveHandler:function(a){a=a.touches?a.touches[0]:a;Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){C&&g(C);clearTimeout(this._dragStartTimer);
this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var a=this.el.ownerDocument;h(a,"mouseup",this._disableDelayedDrag);h(a,"touchend",this._disableDelayedDrag);h(a,"touchcancel",this._disableDelayedDrag);h(a,"mousemove",this._delayedDragTouchMoveHandler);h(a,"touchmove",this._delayedDragTouchMoveHandler);h(a,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(a,c){c=c||"touch"==a.pointerType&&a;!this.nativeDraggable||c?this.options.supportPointer?t(document,
"pointermove",this._onTouchMove):c?t(document,"touchmove",this._onTouchMove):t(document,"mousemove",this._onTouchMove):(t(C,"dragend",this),t(fa,"dragstart",this._onDragStart));try{document.selection?ca(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(d){}},_dragStarted:function(a,c){Pa=!1;if(fa&&C){va("dragStarted",this,{evt:c});this.nativeDraggable&&t(document,"dragover",Ob);var d=this.options;!a&&D(C,d.dragClass,!1);D(C,d.ghostClass,!0);b.active=this;a&&this._appendGhost();
x({sortable:this,name:"start",originalEvent:c})}else this._nulling()},_emulateDragOver:function(){if(Ba){this._lastX=Ba.clientX;this._lastY=Ba.clientY;Cb();for(var a=document.elementFromPoint(Ba.clientX,Ba.clientY),c=a;a&&a.shadowRoot;){a=a.shadowRoot.elementFromPoint(Ba.clientX,Ba.clientY);if(a===c)break;c=a}C.parentNode[xa]._isOutsideThisEl(a);if(c){do{if(c[xa]){var d=void 0;if((d=c[xa]._onDragOver({clientX:Ba.clientX,clientY:Ba.clientY,target:a,rootEl:c}))&&!this.options.dragoverBubble)break}a=
c}while(c=c.parentNode)}Db()}},_onTouchMove:function(a){if(La){var c=this.options,d=c.fallbackTolerance,e=c.fallbackOffset;c=a.touches?a.touches[0]:a;var k=Y&&ka(Y,!0),m=Y&&k&&k.a,r=Y&&k&&k.d,I=Za&&ta&&y(ta);m=(c.clientX-La.clientX+e.x)/(m||1)+(I?I[0]-qb[0]:0)/(m||1);e=(c.clientY-La.clientY+e.y)/(r||1)+(I?I[1]-qb[1]:0)/(r||1);if(!b.active&&!Pa){if(d&&Math.max(Math.abs(c.clientX-this._lastX),Math.abs(c.clientY-this._lastY))<d)return;this._onDragStart(a,!0)}Y&&(k?(k.e+=m-(ob||0),k.f+=e-(pb||0)):k={a:1,
b:0,c:0,d:1,e:m,f:e},d="matrix(".concat(k.a,",").concat(k.b,",").concat(k.c,",").concat(k.d,",").concat(k.e,",").concat(k.f,")"),L(Y,"webkitTransform",d),L(Y,"mozTransform",d),L(Y,"msTransform",d),L(Y,"transform",d),ob=m,pb=e,Ba=c);a.cancelable&&a.preventDefault()}},_appendGhost:function(){if(!Y){var a=this.options.fallbackOnBody?document.body:fa,c=S(C,!0,Za,!0,a),d=this.options;if(Za){for(ta=a;"static"===L(ta,"position")&&"none"===L(ta,"transform")&&ta!==document;)ta=ta.parentNode;ta!==document.body&&
ta!==document.documentElement?(ta===document&&(ta=ha()),c.top+=ta.scrollTop,c.left+=ta.scrollLeft):ta=ha();qb=y(ta)}Y=C.cloneNode(!0);D(Y,d.ghostClass,!1);D(Y,d.fallbackClass,!0);D(Y,d.dragClass,!0);L(Y,"transition","");L(Y,"transform","");L(Y,"box-sizing","border-box");L(Y,"margin",0);L(Y,"top",c.top);L(Y,"left",c.left);L(Y,"width",c.width);L(Y,"height",c.height);L(Y,"opacity","0.8");L(Y,"position",Za?"absolute":"fixed");L(Y,"zIndex","100000");L(Y,"pointerEvents","none");b.ghost=Y;a.appendChild(Y);
L(Y,"transform-origin",Eb/parseInt(Y.style.width)*100+"% "+Fb/parseInt(Y.style.height)*100+"%")}},_onDragStart:function(a,c){var d=this,e=a.dataTransfer,k=d.options;va("dragStart",this,{evt:a});b.eventCanceled?this._onDrop():(va("setupClone",this),b.eventCanceled||(ja=ba(C),ja.removeAttribute("id"),ja.draggable=!1,ja.style["will-change"]="",this._hideClone(),D(ja,this.options.chosenClass,!1),b.clone=ja),d.cloneId=ca(function(){va("clone",d);b.eventCanceled||(d.options.removeCloneOnHide||fa.insertBefore(ja,
C),d._hideClone(),x({sortable:d,name:"clone"}))}),!c&&D(C,k.dragClass,!0),c?(gb=!0,d._loopId=setInterval(d._emulateDragOver,50)):(h(document,"mouseup",d._onDrop),h(document,"touchend",d._onDrop),h(document,"touchcancel",d._onDrop),e&&(e.effectAllowed="move",k.setData&&k.setData.call(d,e,C)),t(document,"drop",d),L(C,"transform","translateZ(0)")),Pa=!0,d._dragStartId=ca(d._dragStarted.bind(d,c,a)),t(document,"selectstart",d),$a=!0,Wa&&L(document.body,"user-select","none"))},_onDragOver:function(a){function c(Ja,
jb){va(Ja,ea,q({evt:a,isOwner:pa,axis:Aa?"vertical":"horizontal",revert:O,dragRect:Ca,targetRect:I,canSort:ma,fromSortable:sa,target:r,completed:e,onMove:function(Ib,Pb){return f(fa,m,C,Ca,Ib,S(Ib),a,Pb)},changed:k},jb))}function d(){c("dragOverAnimationCapture");ea.captureAnimationState();ea!==sa&&sa.captureAnimationState()}function e(Ja){c("dragOverCompleted",{insertion:Ja});Ja&&(pa?Z._hideClone():Z._showClone(ea),ea!==sa&&(D(C,qa?qa.options.ghostClass:Z.options.ghostClass,!1),D(C,U.ghostClass,
!0)),qa!==ea&&ea!==b.active?qa=ea:ea===b.active&&qa&&(qa=null),sa===ea&&(ea._ignoreWhileAnimating=r),ea.animateAll(function(){c("dragOverAnimationComplete");ea._ignoreWhileAnimating=null}),ea!==sa&&(sa.animateAll(),sa._ignoreWhileAnimating=null));if(r===C&&!C.animated||r===m&&!r.animated)Qa=null;U.dragoverBubble||a.rootEl||r===document||(C.parentNode[xa]._isOutsideThisEl(a.target),!Ja&&Ma(a));!U.dragoverBubble&&a.stopPropagation&&a.stopPropagation();return ya=!0}function k(){wa=l(C);Ha=l(C,U.draggable);
x({sortable:ea,name:"change",toEl:m,newIndex:wa,newDraggableIndex:Ha,originalEvent:a})}var m=this.el,r=a.target,I,O,U=this.options,V=U.group,Z=b.active,pa=fb===V,ma=U.sort,sa=qa||Z,ea=this,ya=!1;if(!mb){void 0!==a.preventDefault&&a.cancelable&&a.preventDefault();r=R(r,U.draggable,m,!0);c("dragOver");if(b.eventCanceled)return ya;if(C.contains(a.target)||r.animated&&r.animatingX&&r.animatingY||ea._ignoreWhileAnimating===r)return e(!1);gb=!1;if(Z&&!U.disabled&&(pa?ma||(O=la!==fa):qa===this||(this.lastPutMode=
fb.checkPull(this,Z,C,a))&&V.checkPut(this,Z,C,a))){var Aa="vertical"===this._getDirection(a,r);var Ca=S(C);c("dragOverValid");if(b.eventCanceled)return ya;if(O)return la=fa,d(),this._hideClone(),c("revert"),b.eventCanceled||(Ka?fa.insertBefore(C,Ka):fa.appendChild(C)),e(!0);V=G(m,U.draggable);if(!V||M(a,Aa,this)&&!V.animated){if(V===C)return e(!1);V&&m===a.target&&(r=V);r&&(I=S(r));if(!1!==f(fa,m,C,Ca,r,I,a,!!r))return d(),V&&V.nextSibling?m.insertBefore(C,V.nextSibling):m.appendChild(C),la=m,k(),
e(!0)}else if(V&&A(a,Aa,this)){var Da=u(m,0,U,!0);if(Da===C)return e(!1);r=Da;I=S(r);if(!1!==f(fa,m,C,Ca,r,I,a,!1))return d(),m.insertBefore(C,Da),la=m,k(),e(!0)}else if(r.parentNode===m){I=S(r);var da=0;da=C.parentNode!==m;var ua=!Mb(C.animated&&C.toRect||Ca,r.animated&&r.toRect||I,Aa);V=Aa?"top":"left";var Ga=z(r,"top","top")||z(C,"top","top"),kb=Ga?Ga.scrollTop:void 0;Qa!==r&&(Da=I[V],Xa=!1,hb=!ua&&U.invertSwap||da);da=Q(a,r,I,Aa,ua?1:U.swapThreshold,null==U.invertedSwapThreshold?U.swapThreshold:
U.invertedSwapThreshold,hb,Qa===r);if(0!==da){ua=l(C);do{ua-=da;var Ea=la.children[ua]}while(Ea&&("none"===L(Ea,"display")||Ea===Y))}if(0===da||Ea===r)return e(!1);Qa=r;Ya=da;Ea=r.nextElementSibling;ua=!1;ua=1===da;da=f(fa,m,C,Ca,r,I,a,ua);if(!1!==da){if(1===da||-1===da)ua=1===da;mb=!0;setTimeout(p,30);d();ua&&!Ea?m.appendChild(C):r.parentNode.insertBefore(C,ua?Ea:r);Ga&&X(Ga,0,kb-Ga.scrollTop);la=C.parentNode;void 0===Da||hb||(cb=Math.abs(Da-S(r)[V]));k();return e(!0)}}if(m.contains(C))return e(!1)}return!1}},
_ignoreWhileAnimating:null,_offMoveEvents:function(){h(document,"mousemove",this._onTouchMove);h(document,"touchmove",this._onTouchMove);h(document,"pointermove",this._onTouchMove);h(document,"dragover",Ma);h(document,"mousemove",Ma);h(document,"touchmove",Ma)},_offUpEvents:function(){var a=this.el.ownerDocument;h(a,"mouseup",this._onDrop);h(a,"touchend",this._onDrop);h(a,"pointerup",this._onDrop);h(a,"touchcancel",this._onDrop);h(document,"selectstart",this)},_onDrop:function(a){var c=this.el,d=
this.options;wa=l(C);Ha=l(C,d.draggable);va("drop",this,{evt:a});la=C&&C.parentNode;wa=l(C);Ha=l(C,d.draggable);if(!b.eventCanceled&&(Xa=hb=Pa=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),clearTimeout(this.cloneId),clearTimeout(this._dragStartId),this.nativeDraggable&&(h(document,"drop",this),h(c,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Wa&&L(document.body,"user-select",""),L(C,"transform",""),a&&($a&&(a.cancelable&&a.preventDefault(),!d.dropBubble&&
a.stopPropagation()),Y&&Y.parentNode&&Y.parentNode.removeChild(Y),(fa===la||qa&&"clone"!==qa.lastPutMode)&&ja&&ja.parentNode&&ja.parentNode.removeChild(ja),C&&(this.nativeDraggable&&h(C,"dragend",this),g(C),C.style["will-change"]="",$a&&!Pa&&D(C,qa?qa.options.ghostClass:this.options.ghostClass,!1),D(C,this.options.chosenClass,!1),x({sortable:this,name:"unchoose",toEl:la,newIndex:null,newDraggableIndex:null,originalEvent:a}),fa!==la?(0<=wa&&(x({rootEl:la,name:"add",toEl:la,fromEl:fa,originalEvent:a}),
x({sortable:this,name:"remove",toEl:la,originalEvent:a}),x({rootEl:la,name:"sort",toEl:la,fromEl:fa,originalEvent:a}),x({sortable:this,name:"sort",toEl:la,originalEvent:a})),qa&&qa.save()):wa!==Na&&0<=wa&&(x({sortable:this,name:"update",toEl:la,originalEvent:a}),x({sortable:this,name:"sort",toEl:la,originalEvent:a})),b.active)))){if(null==wa||-1===wa)wa=Na,Ha=Ta;x({sortable:this,name:"end",toEl:la,originalEvent:a});this.save()}this._nulling()},_nulling:function(){va("nulling",this);fa=C=la=Y=Ka=ja=
eb=Ia=La=Ba=$a=wa=Ha=Na=Ta=Qa=Ya=qa=fb=b.dragged=b.ghost=b.clone=b.active=null;db.forEach(function(a){a.checked=!0});db.length=ob=pb=0},handleEvent:function(a){switch(a.type){case "drop":case "dragend":this._onDrop(a);break;case "dragenter":case "dragover":C&&(this._onDragOver(a),a.dataTransfer&&(a.dataTransfer.dropEffect="move"),a.cancelable&&a.preventDefault());break;case "selectstart":a.preventDefault()}},toArray:function(){for(var a=[],c,d=this.el.children,e=0,k=d.length,m=this.options;e<k;e++)c=
d[e],R(c,m.draggable,this.el,!1)&&a.push(c.getAttribute(m.dataIdAttr)||P(c));return a},sort:function(a,c){var d={},e=this.el;this.toArray().forEach(function(k,m){m=e.children[m];R(m,this.options.draggable,e,!1)&&(d[k]=m)},this);c&&this.captureAnimationState();a.forEach(function(k){d[k]&&(e.removeChild(d[k]),e.appendChild(d[k]))});c&&this.animateAll()},save:function(){var a=this.options.store;a&&a.set&&a.set(this)},closest:function(a,c){return R(a,c||this.options.draggable,this.el,!1)},option:function(a,
c){var d=this.options;if(void 0===c)return d[a];var e=Va.modifyOption(this,a,c);d[a]="undefined"!==typeof e?e:c;"group"===a&&zb(d)},destroy:function(){va("destroy",this);var a=this.el;a[xa]=null;h(a,"mousedown",this._onTapStart);h(a,"touchstart",this._onTapStart);h(a,"pointerdown",this._onTapStart);this.nativeDraggable&&(h(a,"dragover",this),h(a,"dragenter",this));Array.prototype.forEach.call(a.querySelectorAll("[draggable]"),function(c){c.removeAttribute("draggable")});this._onDrop();this._disableDelayedDragEvents();
bb.splice(bb.indexOf(this.el),1);this.el=a=null},_hideClone:function(){Ia||(va("hideClone",this),b.eventCanceled||(L(ja,"display","none"),this.options.removeCloneOnHide&&ja.parentNode&&ja.parentNode.removeChild(ja),Ia=!0))},_showClone:function(a){"clone"!==a.lastPutMode?this._hideClone():Ia&&(va("showClone",this),b.eventCanceled||(C.parentNode!=fa||this.options.group.revertClone?Ka?fa.insertBefore(ja,Ka):fa.appendChild(ja):fa.insertBefore(ja,C),this.options.group.revertClone&&this.animate(C,ja),L(ja,
"display",""),Ia=!1))}};ib&&t(document,"touchmove",function(a){(b.active||Pa)&&a.cancelable&&a.preventDefault()});b.utils={on:t,off:h,css:L,find:oa,is:function(a,c){return!!R(a,c,a,!1)},extend:function(a,c){if(a&&c)for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);return a},throttle:J,closest:R,toggleClass:D,clone:ba,index:l,nextTick:ca,cancelNextTick:function(a){return clearTimeout(a)},detectDirection:yb,getChild:u};b.get=function(a){return a[xa]};b.mount=function(){for(var a=arguments.length,c=Array(a),
d=0;d<a;d++)c[d]=arguments[d];c[0].constructor===Array&&(c=c[0]);c.forEach(function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(b.utils=q(q({},b.utils),e.utils));Va.mount(e)})};b.create=function(a,c){return new b(a,c)};b.version="1.15.0";var na=[],ab,rb,sb=!1,tb,ub,lb,Ra,vb=J(function(a,c,d,e){if(c.scroll){var k=(a.touches?a.touches[0]:a).clientX,m=(a.touches?a.touches[0]:a).clientY,r=c.scrollSensitivity,
I=c.scrollSpeed,O=ha(),U=!1;if(rb!==d){rb=d;ia();ab=c.scroll;var V=c.scrollFn;!0===ab&&(ab=H(d,!0))}d=0;var Z=ab;do{var pa=Z,ma=S(pa),sa=ma.top,ea=ma.bottom,ya=ma.left,Aa=ma.right,Ca=ma.width;ma=ma.height;var Da=void 0,da=void 0,ua=pa.scrollWidth,Ga=pa.scrollHeight;da=L(pa);var kb=pa.scrollLeft,Ea=pa.scrollTop;pa===O?(Da=Ca<ua&&("auto"===da.overflowX||"scroll"===da.overflowX||"visible"===da.overflowX),da=ma<Ga&&("auto"===da.overflowY||"scroll"===da.overflowY||"visible"===da.overflowY)):(Da=Ca<ua&&
("auto"===da.overflowX||"scroll"===da.overflowX),da=ma<Ga&&("auto"===da.overflowY||"scroll"===da.overflowY));ya=Da&&(Math.abs(Aa-k)<=r&&kb+Ca<ua)-(Math.abs(ya-k)<=r&&!!kb);sa=da&&(Math.abs(ea-m)<=r&&Ea+ma<Ga)-(Math.abs(sa-m)<=r&&!!Ea);if(!na[d])for(ea=0;ea<=d;ea++)na[ea]||(na[ea]={});if(na[d].vx!=ya||na[d].vy!=sa||na[d].el!==pa)if(na[d].el=pa,na[d].vx=ya,na[d].vy=sa,clearInterval(na[d].pid),0!=ya||0!=sa)U=!0,na[d].pid=setInterval(function(){e&&0===this.layer&&b.active._onTouchMove(lb);var Ja=na[this.layer].vy?
na[this.layer].vy*I:0,jb=na[this.layer].vx?na[this.layer].vx*I:0;"function"===typeof V&&"continue"!==V.call(b.dragged.parentNode[xa],jb,Ja,a,lb,na[this.layer].el)||X(na[this.layer].el,jb,Ja)}.bind({layer:d}),24);d++}while(c.bubbleScroll&&Z!==O&&(Z=H(Z,!1)));sb=U}},30),Jb=function(a){var c=a.originalEvent,d=a.putSortable,e=a.dragEl,k=a.activeSortable,m=a.dispatchSortableEvent,r=a.hideGhostForTarget;a=a.unhideGhostForTarget;c&&(k=d||k,r(),c=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:
c,c=document.elementFromPoint(c.clientX,c.clientY),a(),k&&!k.el.contains(c)&&(m("spill"),this.onSpill({dragEl:e,putSortable:d})))};za.prototype={startIndex:null,dragStart:function(a){this.startIndex=a.oldDraggableIndex},onSpill:function(a){var c=a.dragEl;a=a.putSortable;this.sortable.captureAnimationState();a&&a.captureAnimationState();var d=u(this.sortable.el,this.startIndex,this.options);d?this.sortable.el.insertBefore(c,d):this.sortable.el.appendChild(c);this.sortable.animateAll();a&&a.animateAll()},
drop:Jb};B(za,{pluginName:"revertOnSpill"});ra.prototype={onSpill:function(a){var c=a.dragEl;a=a.putSortable||this.sortable;a.captureAnimationState();c.parentNode&&c.parentNode.removeChild(c);a.animateAll()},drop:Jb};B(ra,{pluginName:"removeOnSpill"});b.mount(new function(){function a(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var c in this)"_"===c.charAt(0)&&"function"===typeof this[c]&&(this[c]=this[c].bind(this))}a.prototype={dragStarted:function(c){c=
c.originalEvent;this.sortable.nativeDraggable?t(document,"dragover",this._handleAutoScroll):this.options.supportPointer?t(document,"pointermove",this._handleFallbackAutoScroll):c.touches?t(document,"touchmove",this._handleFallbackAutoScroll):t(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(c){c=c.originalEvent;this.options.dragOverBubble||c.rootEl||this._handleAutoScroll(c)},drop:function(){this.sortable.nativeDraggable?h(document,"dragover",this._handleAutoScroll):
(h(document,"pointermove",this._handleFallbackAutoScroll),h(document,"touchmove",this._handleFallbackAutoScroll),h(document,"mousemove",this._handleFallbackAutoScroll));clearInterval(Ra);ia();clearTimeout(Sa);Sa=void 0},nulling:function(){lb=rb=ab=sb=Ra=tb=ub=null;na.length=0},_handleFallbackAutoScroll:function(c){this._handleAutoScroll(c,!0)},_handleAutoScroll:function(c,d){var e=this,k=(c.touches?c.touches[0]:c).clientX,m=(c.touches?c.touches[0]:c).clientY,r=document.elementFromPoint(k,m);lb=c;
if(d||this.options.forceAutoScrollFallback||Ua||Fa||Wa){vb(c,this.options,r,d);var I=H(r,!0);!sb||Ra&&k===tb&&m===ub||(Ra&&clearInterval(Ra),Ra=setInterval(function(){var O=H(document.elementFromPoint(k,m),!0);O!==I&&(I=O,ia());vb(c,e.options,O,d)},10),tb=k,ub=m)}else this.options.bubbleScroll&&H(r,!0)!==ha()?vb(c,this.options,H(r,!1),!1):ia()}};return B(a,{pluginName:"scroll",initializeByDefault:!0})});b.mount(ra,za);T.Sortable=b})},"widgets/LayerList/LayerItem":function(){define("dojo/_base/html dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./LayerItem.html dojo/_base/lang jimu/dijit/CheckBox".split(" "),
function(T,K,q,v,B,w,E){return K([q,v,B],{templateString:w,sceneView:null,layer:null,baseClass:"jimu-widget-layeritem",nls:null,postCreate:function(){this.inherited(arguments);this.cbx.onChange=E.hitch(this,this._onCbxChanged);this.own(this.layer.watch("title",E.hitch(this,function(){this._updateTitleUI()})));this.own(this.layer.watch("visible",E.hitch(this,function(){this._updateVisibilityUI()})));this.layer.when(E.hitch(this,function(){this.domNode&&(this._updateTitleUI(),this._updateVisibilityUI())}),
E.hitch(this,function(t){console.error(t);this.domNode&&T.addClass(this.domNode,"not-loaded")}));this._updateTitleUI()},_onClickSelf:function(t){t=t.target;t===this.cbx.domNode||T.isDescendant(t,this.cbx.domNode)||this.cbx.setValue(!this.cbx.getValue())},_updateTitleUI:function(){this.cbx.setLabel(this.layer.title||this.layer.name||this.layer.mapName||"")},_updateVisibilityUI:function(){var t=this.layer.get("visible");t!==this.cbx.getValue()&&this.cbx.setValue(t);this.domNode.title=this.layer.title},
_onCbxChanged:function(){this.cbx.getValue()!==this.layer.get("visible")&&this.layer.set("visible",this.cbx.getValue())},_onBtnZoomClicked:function(t){t.stopPropagation();if(t=this.layer.extent||this.layer.fullExtent)t=t.expand(1.2),this.sceneView.goTo(t)},destroy:function(){this.layer=this.sceneView=null;this.inherited(arguments)}})})},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(T,K,q,v,B){return q("dijit._WidgetsInTemplateMixin",
null,{_earlyTemplatedStartup:!1,contextRequire:null,_beforeFillContent:function(){if(/dojoType|data-dojo-type/i.test(this.domNode.innerHTML)){var w=this.domNode;this.containerNode&&!this.searchContainerNode&&(this.containerNode.stopParser=!0);B.parse(w,{noStart:!this._earlyTemplatedStartup,template:!0,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(v.hitch(this,function(E){this._startupWidgets=E;for(var t=0;t<E.length;t++)this._processTemplateNode(E[t],
function(h,F){return h[F]},function(h,F,R){return F in h?h.connect(h,F,R):h.on(F,R,!0)});this.containerNode&&this.containerNode.stopParser&&delete this.containerNode.stopParser}));if(!this._startupWidgets)throw Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");}},_processTemplateNode:function(w,E,t){return E(w,"dojoType")||E(w,"data-dojo-type")?
!0:this.inherited(arguments)},startup:function(){T.forEach(this._startupWidgets,function(w){w&&!w._started&&w.startup&&w.startup()});this._startupWidgets=null;this.inherited(arguments)}})})},"dojo/parser":function(){define("require ./_base/kernel ./_base/lang ./_base/array ./_base/config ./dom ./_base/window ./_base/url ./aspect ./promise/all ./date/stamp ./Deferred ./has ./query ./on ./ready".split(" "),function(T,K,q,v,B,w,E,t,h,F,R,D,L,ka,oa,ha){function S(l){return eval("("+l+")")}function z(l){var y=
l._nameCaseMap,N=l.prototype;if(!y||y._extendCnt<G){y=l._nameCaseMap={};for(var H in N)"_"!==H.charAt(0)&&(y[H.toLowerCase()]=H);y._extendCnt=G}return y}function u(l,y){y||(y=T);var N=y._dojoParserCtorMap||(y._dojoParserCtorMap={}),H=l.join();if(!N[H]){for(var n=[],J=0,X=l.length;J<X;J++){var ba=l[J];n[n.length]=N[ba]=N[ba]||q.getObject(ba)||~ba.indexOf("/")&&y(ba)}l=n.shift();N[H]=n.length?l.createSubclass?l.createSubclass(n):l.extend.apply(l,n):l}return N[H]}new Date("X");var G=0;h.after(q,"extend",
function(){G++},!0);L={_clearCache:function(){G++;_ctorMap={}},_functionFromScript:function(l,y){var N="",H="",n=l.getAttribute(y+"args")||l.getAttribute("args");y=l.getAttribute("with");n=(n||"").split(/\s*,\s*/);y&&y.length&&v.forEach(y.split(/\s*,\s*/),function(J){N+="with("+J+"){";H+="}"});return new Function(n,N+l.innerHTML+H)},instantiate:function(l,y,N){y=y||{};N=N||{};var H=(N.scope||K._scopeName)+"Type",n="data-"+(N.scope||K._scopeName)+"-",J=n+"type",X=n+"mixins",ba=[];v.forEach(l,function(aa){var x=
H in y?y[H]:aa.getAttribute(J)||aa.getAttribute(H);if(x){var b=aa.getAttribute(X);x=b?[x].concat(b.split(/\s*,\s*/)):[x];ba.push({node:aa,types:x})}});return this._instantiate(ba,y,N)},_instantiate:function(l,y,N,H){function n(J){y._started||N.noStart||v.forEach(J,function(X){"function"!==typeof X.startup||X._started||X.startup()});return J}l=v.map(l,function(J){var X=J.ctor||u(J.types,N.contextRequire);if(!X)throw Error("Unable to resolve constructor for: '"+J.types.join()+"'");return this.construct(X,
J.node,y,N,J.scripts,J.inherited)},this);return H?F(l).then(n):n(l)},construct:function(l,y,N,H,n,J){function X(ra){A&&q.setObject(A,ra);for(g=0;g<W.length;g++)h[W[g].advice||"after"](ra,W[g].method,q.hitch(ra,W[g].func),!0);for(g=0;g<ca.length;g++)ca[g].call(ra);for(g=0;g<ia.length;g++)ra.watch(ia[g].prop,ia[g].func);for(g=0;g<za.length;g++)oa(ra,za[g].event,za[g].func);return ra}var ba=l&&l.prototype;H=H||{};var aa={};H.defaults&&q.mixin(aa,H.defaults);J&&q.mixin(aa,J);var x=y.attributes;var b=
H.scope||K._scopeName;J="data-"+b+"-";var f={};"dojo"!==b&&(f[J+"props"]="data-dojo-props",f[J+"type"]="data-dojo-type",f[J+"mixins"]="data-dojo-mixins",f[b+"type"]="dojotype",f[J+"id"]="data-dojo-id");var g=0,p;b=[];for(var A,M;p=x[g++];){var Q=p.name,P=Q.toLowerCase();p=p.value;switch(f[P]||P){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":M=p;break;case "data-dojo-id":case "jsid":A=p;break;case "data-dojo-attach-point":case "dojoattachpoint":aa.dojoAttachPoint=
p;break;case "data-dojo-attach-event":case "dojoattachevent":aa.dojoAttachEvent=p;break;case "class":aa["class"]=y.className;break;case "style":aa.style=y.style&&y.style.cssText;break;default:if(Q in ba||(Q=z(l)[P]||Q),Q in ba)switch(typeof ba[Q]){case "string":aa[Q]=p;break;case "number":aa[Q]=p.length?Number(p):NaN;break;case "boolean":aa[Q]="false"!=p.toLowerCase();break;case "function":""===p||-1!=p.search(/[^\w\.]+/i)?aa[Q]=new Function(p):aa[Q]=q.getObject(p,!1)||new Function(p);b.push(Q);break;
default:P=ba[Q],aa[Q]=P&&"length"in P?p?p.split(/\s*,\s*/):[]:P instanceof Date?""==p?new Date(""):"now"==p?new Date:R.fromISOString(p):P instanceof t?K.baseUrl+p:S(p)}else aa[Q]=p}}for(x=0;x<b.length;x++)f=b[x].toLowerCase(),y.removeAttribute(f),y[f]=null;if(M)try{M=S.call(H.propsThis,"{"+M+"}"),q.mixin(aa,M)}catch(ra){throw Error(ra.toString()+" in data-dojo-props\x3d'"+M+"'");}q.mixin(aa,N);n||(n=l&&(l._noScript||ba._noScript)?[]:ka("\x3e script[type^\x3d'dojo/']",y));var W=[],ca=[],ia=[],za=[];
if(n)for(g=0;g<n.length;g++)f=n[g],y.removeChild(f),N=f.getAttribute(J+"event")||f.getAttribute("event"),H=f.getAttribute(J+"prop"),M=f.getAttribute(J+"method"),b=f.getAttribute(J+"advice"),x=f.getAttribute("type"),f=this._functionFromScript(f,J),N?"dojo/connect"==x?W.push({method:N,func:f}):"dojo/on"==x?za.push({event:N,func:f}):aa[N]=f:"dojo/aspect"==x?W.push({method:M,advice:b,func:f}):"dojo/watch"==x?ia.push({prop:H,func:f}):ca.push(f);l=(n=l.markupFactory||ba.markupFactory)?n(aa,y,l):new l(aa,
y);return l.then?l.then(X):X(l)},scan:function(l,y){function N(P){if(!P.inherited){P.inherited={};var W=P.node,ca=N(P.parent);W={dir:W.getAttribute("dir")||ca.dir,lang:W.getAttribute("lang")||ca.lang,textDir:W.getAttribute(x)||ca.textDir};for(var ia in W)W[ia]&&(P.inherited[ia]=W[ia])}return P.inherited}var H=[],n=[],J={},X=(y.scope||K._scopeName)+"Type",ba="data-"+(y.scope||K._scopeName)+"-",aa=ba+"type",x=ba+"textdir";ba+="mixins";var b=l.firstChild,f=y.inherited;if(!f){f=function ia(W,ca){return W.getAttribute&&
W.getAttribute(ca)||W.parentNode&&ia(W.parentNode,ca)};f={dir:f(l,"dir"),lang:f(l,"lang"),textDir:f(l,x)};for(var g in f)f[g]||delete f[g]}g={inherited:f};for(var p,A;;)if(b)if(1!=b.nodeType)b=b.nextSibling;else if(p&&"script"==b.nodeName.toLowerCase())(f=b.getAttribute("type"))&&/^dojo\/\w/i.test(f)&&p.push(b),b=b.nextSibling;else if(A)b=b.nextSibling;else if(f=b.getAttribute(aa)||b.getAttribute(X),l=b.firstChild,f||l&&(3!=l.nodeType||l.nextSibling)){A=null;if(f){var M=b.getAttribute(ba);p=M?[f].concat(M.split(/\s*,\s*/)):
[f];try{A=u(p,y.contextRequire)}catch(P){}A||v.forEach(p,function(P){~P.indexOf("/")&&!J[P]&&(J[P]=!0,n[n.length]=P)});M=A&&!A.prototype._noScript?[]:null;g={types:p,ctor:A,parent:g,node:b,scripts:M};g.inherited=N(g);H.push(g)}else g={node:b,scripts:p,parent:g};p=M;A=b.stopParser||A&&A.prototype.stopParser&&!y.template;b=l}else b=b.nextSibling;else{if(!g||!g.node)break;b=g.node.nextSibling;A=!1;g=g.parent;p=g.scripts}var Q=new D;n.length?(y.contextRequire||T)(n,function(){Q.resolve(v.filter(H,function(P){if(!P.ctor)try{P.ctor=
u(P.types,y.contextRequire)}catch(ia){}for(var W=P.parent;W&&!W.types;)W=W.parent;var ca=P.ctor&&P.ctor.prototype;P.instantiateChildren=!(ca&&ca.stopParser&&!y.template);P.instantiate=!W||W.instantiate&&W.instantiateChildren;return P.instantiate}))}):Q.resolve(H);return Q.promise},_require:function(l,y){l=S("{"+l.innerHTML+"}");var N=[],H=[],n=new D;y=y&&y.contextRequire||T;for(var J in l)N.push(J),H.push(l[J]);y(H,function(){for(var X=0;X<N.length;X++)q.setObject(N[X],arguments[X]);n.resolve(arguments)});
return n.promise},_scanAmd:function(l,y){var N=new D,H=N.promise;N.resolve(!0);var n=this;ka("script[type\x3d'dojo/require']",l).forEach(function(J){H=H.then(function(){return n._require(J,y)});J.parentNode.removeChild(J)});return H},parse:function(l,y){!l||"string"==typeof l||"nodeType"in l||(y=l,l=y.rootNode);var N=l?w.byId(l):E.body();y=y||{};var H=y.template?{template:!0}:{},n=[],J=this;l=this._scanAmd(N,y).then(function(){return J.scan(N,y)}).then(function(X){return J._instantiate(X,H,y,!0)}).then(function(X){return n=
n.concat(X)}).otherwise(function(X){console.error("dojo/parser::parse() error",X);throw X;});q.mixin(n,l);return n}};K.parser=L;B.parseOnLoad&&ha(100,L,"parse");return L})},"dojo/_base/url":function(){define(["./kernel"],function(T){var K=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,q=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,v=function(){for(var B=arguments,w=[B[0]],E=1;E<B.length;E++)if(B[E]){var t=new v(B[E]+"");w=new v(w[0]+"");if(""==t.path&&!t.scheme&&
!t.authority&&!t.query)null!=t.fragment&&(w.fragment=t.fragment),t=w;else if(!t.scheme&&(t.scheme=w.scheme,!t.authority&&(t.authority=w.authority,"/"!=t.path.charAt(0)))){w=(w.path.substring(0,w.path.lastIndexOf("/")+1)+t.path).split("/");for(var h=0;h<w.length;h++)"."==w[h]?h==w.length-1?w[h]="":(w.splice(h,1),h--):0<h&&(1!=h||""!=w[0])&&".."==w[h]&&".."!=w[h-1]&&(h==w.length-1?(w.splice(h,1),w[h-1]=""):(w.splice(h-1,2),h-=2));t.path=w.join("/")}w=[];t.scheme&&w.push(t.scheme,":");t.authority&&w.push("//",
t.authority);w.push(t.path);t.query&&w.push("?",t.query);t.fragment&&w.push("#",t.fragment)}this.uri=w.join("");B=this.uri.match(K);this.scheme=B[2]||(B[1]?"":null);this.authority=B[4]||(B[3]?"":null);this.path=B[5];this.query=B[7]||(B[6]?"":null);this.fragment=B[9]||(B[8]?"":null);null!=this.authority&&(B=this.authority.match(q),this.user=B[3]||null,this.password=B[4]||null,this.host=B[6]||B[7],this.port=B[9]||null)};v.prototype.toString=function(){return this.uri};return T._Url=v})},"dojo/date/stamp":function(){define(["../_base/lang",
"../_base/array"],function(T,K){var q={};T.setObject("dojo.date.stamp",q);q.fromISOString=function(v,B){q._isoRegExp||(q._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/);var w=q._isoRegExp.exec(v);v=null;if(w){w.shift();w[1]&&w[1]--;w[6]&&(w[6]*=1E3);B&&(B=new Date(B),K.forEach(K.map("FullYear Month Date Hours Minutes Seconds Milliseconds".split(" "),function(h){return B["get"+h]()}),function(h,F){w[F]=w[F]||h}));v=new Date(w[0]||
1970,w[1]||0,w[2]||1,w[3]||0,w[4]||0,w[5]||0,w[6]||0);100>w[0]&&v.setFullYear(w[0]||1970);var E=0,t=w[7]&&w[7].charAt(0);"Z"!=t&&(E=60*(w[8]||0)+(Number(w[9])||0),"-"!=t&&(E*=-1));t&&(E-=v.getTimezoneOffset());E&&v.setTime(v.getTime()+6E4*E)}return v};q.toISOString=function(v,B){var w=function(F){return 10>F?"0"+F:F};B=B||{};var E=[],t=B.zulu?"getUTC":"get",h="";"time"!=B.selector&&(h=v[t+"FullYear"](),h=["0000".substr((h+"").length)+h,w(v[t+"Month"]()+1),w(v[t+"Date"]())].join("-"));E.push(h);"date"!=
B.selector&&(h=[w(v[t+"Hours"]()),w(v[t+"Minutes"]()),w(v[t+"Seconds"]())].join(":"),t=v[t+"Milliseconds"](),B.milliseconds&&(h+="."+(100>t?"0":"")+w(t)),B.zulu?h+="Z":"time"!=B.selector&&(v=v.getTimezoneOffset(),B=Math.abs(v),h+=(0<v?"-":"+")+w(Math.floor(B/60))+":"+w(B%60)),E.push(h));return E.join("T")};return q})},"jimu/dijit/CheckBox":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/_base/lang dojo/_base/html dojo/dom-class dojo/on dojo/Evented dojo/keys ../utils".split(" "),function(T,
K,q,v,B,w,E,t,h){return T([K,E],{baseClass:"jimu-checkbox",declaredClass:"jimu.dijit.CheckBox",checked:!1,status:!0,label:"",postCreate:function(){this.checkNode=v.create("div",{"class":"checkbox jimu-float-leading"},this.domNode);this.labelNode=v.create("div",{"class":"label jimu-float-leading",innerHTML:h.sanitizeHTML(this.label)||""},this.domNode);this.checked&&v.addClass(this.checkNode,"checked");this.status||v.addClass(this.domNode,"jimu-state-disabled");this.own(w(this.checkNode,"click",q.hitch(this,
function(){this.status&&(this.checked?this.uncheck():this.check())})));this.own(w(this.labelNode,"click",q.hitch(this,function(){this.checked&&this.status?this.uncheck():this.status&&this.check()})));this._udpateLabelClass();this._initSection508()},setLabel:function(F){this.label=F||"";this.labelNode.innerHTML=h.sanitizeHTML(this.label);this._udpateLabelClass()},getLabel:function(){return this.label||""},_udpateLabelClass:function(){this.labelNode&&(this.labelNode.innerHTML?v.removeClass(this.labelNode,
"not-visible"):v.addClass(this.labelNode,"not-visible"))},_initSection508:function(){"undefined"!==typeof this.tabindex&&(v.setAttr(this.checkNode,"tabindex",this.tabindex),this.own(w(this.checkNode,"focus",q.hitch(this,function(){v.addClass(this.checkNode,"dijitCheckBoxFocused")}))),this.own(w(this.checkNode,"blur",q.hitch(this,function(){v.removeClass(this.checkNode,"dijitCheckBoxFocused")}))),this.own(w(this.checkNode,"keypress",q.hitch(this,function(F){F=F.charCode||F.keyCode;v.hasClass(this.checkNode,
"dijitCheckBoxFocused")&&t.SPACE===F&&this.status&&(this.checked?this.uncheck():this.check())}))))},setValue:function(F){this.status&&(!0===F?this.check():this.uncheck())},getValue:function(){return this.checked},setStatus:function(F){F=!!F;var R=this.status!==F;(this.status=F)?B.remove(this.domNode,"jimu-state-disabled"):B.add(this.domNode,"jimu-state-disabled");R&&this.emit("status-change",F)},getStatus:function(){return this.status},check:function(){this.status&&(this.checked=!0,v.addClass(this.checkNode,
"checked"),this.onStateChange())},uncheck:function(F){if(this.status&&(this.checked=!1,v.removeClass(this.checkNode,"checked"),!F))this.onStateChange()},onStateChange:function(){if(this.onChange&&q.isFunction(this.onChange))this.onChange(this.checked);this.emit("change",this.checked)},focus:function(){this.checkNode&&this.checkNode.focus&&this.checkNode.focus()}})})},"widgets/LayerList/_build-generate_module":function(){define(["dojo/text!./Widget.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],
function(){})},"url:widgets/LayerList/LayerItem.html":'\x3cdiv data-dojo-attach-event\x3d"click:_onClickSelf"\x3e\r\n\t\x3ctable class\x3d"layeritem-table"\x3e\r\n\t\t\x3ccolgroup\x3e\r\n\t\t\t\x3ccol width\x3d"auto"\x3e\x3c/col\x3e\r\n\t\t\t\x3ccol width\x3d"50"\x3e\x3c/col\x3e\r\n\t    \x3c/colgroup\x3e\r\n\t\t\x3ctbody\x3e\r\n\t\t\t\x3ctr\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cdiv data-dojo-type\x3d"jimu/dijit/CheckBox" data-dojo-attach-point\x3d"cbx" /\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"esri-icon-zoom-out-fixed jimu-float-trailing" title\x3d"${nls.fullExtentTip}" data-dojo-attach-event\x3d"onclick:_onBtnZoomClicked"\x3e\x3c/div\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\x3c/tbody\x3e\r\n\t\x3c/table\x3e\r\n\x3c/div\x3e',
"url:widgets/LayerList/Widget.html":'\x3cdiv\x3e\r\n\t\x3cdiv class\x3d"dijit-container" data-dojo-attach-point\x3d"dijitDiv"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"elevation-layers-container" data-dojo-attach-point\x3d"elevationLayersContainer"\x3e\r\n    \x3cdiv class\x3d"ground-tip hidden" data-dojo-attach-point\x3d"groundTip"\x3e\r\n      \x3chr /\x3e\r\n      \x3cdiv\x3e\r\n        \x3cspan\x3e${nls.ground}\x3c/span\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/LayerList/css/style.css":'.jimu-widget-layerlist{}.jimu-widget-layerlist .dijit-container{width: 100%;}.jimu-widget-layerlist .hidden{display: none !important;}.jimu-widget-layerlist .esri-layer-list__list--root{overflow-x: hidden; padding-bottom: 40px;}.jimu-widget-layerlist .esri-layer-list{max-height: initial; background: transparent; padding: 0;}.jimu-widget-layerlist .esri-layer-list__item{background: inherit; max-height: 100%; overflow: visible; padding: 0; margin-left: 15px;}.jimu-rtl .jimu-widget-layerlist .esri-layer-list__item{margin-left: 0; margin-right: 15px;}.jimu-widget-layerlist .esri-layer-list__item .esri-layer-list__item-actions{position: absolute; right: -5px; width: 200px; top: 30px; z-index: 2;}.jimu-rtl .jimu-widget-layerlist .esri-layer-list__item .esri-layer-list__item-actions{left: -5px; right: auto;}.jimu-widget-layerlist .esri-layer-list__item.esri-layer-list__item--has-children{margin-left: 0; margin-right: 0;}.jimu-widget-layerlist .esri-layer-list__list--root \x3e .esri-layer-list__item{margin-left: 0 !important; margin-right: 0 !important;}.jimu-widget-layerlist .esri-layer-list__item:before{display: none;}.jimu-widget-layerlist .esri-layer-list__item:after{display: none;}.jimu-widget-layerlist .esri-layer-list__item-container .esri-icon-zoom-out-fixed{display: none;}.jimu-widget-layerlist .esri-layer-list__item-container:hover .esri-icon-zoom-out-fixed{display: block;}.jimu-widget-layerlist .esri-layer-list__item-container{padding: 9px 0; border-bottom: none;}.jimu-widget-layerlist .dijit-container \x3e ul.esri-layer-list__list--root \x3e .esri-layer-list__item:first-child{}.jimu-widget-layerlist .esri-layer-list__item-toggle{width: 16px; height: 16px;}.jimu-widget-layerlist .esri-icon-visible {display: inline-block; width: 16px; height: 16px; background: url(../../../jimu.js/css/images/checked_default.png) no-repeat center center;}.jimu-widget-layerlist .esri-icon-visible:before{content: "";}.jimu-widget-layerlist .esri-icon-non-visible {display: inline-block; width: 16px; height: 16px; background: url(../../../jimu.js/css/images/checkbox_default.png) no-repeat center center;}.jimu-widget-layerlist .esri-icon-non-visible:before{content: "";}.jimu-widget-layerlist .jimu-widget-layeritem{cursor: pointer;}.jimu-widget-layerlist .jimu-widget-layeritem.not-loaded{display: none;}.jimu-widget-layerlist .jimu-widget-layeritem .layeritem-table{width: 100%; table-layout: fixed; border-collapse: collapse;}.jimu-widget-layerlist .jimu-widget-layeritem .esri-icon-zoom-out-fixed{font-size: 14px; cursor: pointer; display: none;}.jimu-widget-layerlist .jimu-widget-layeritem:hover .esri-icon-zoom-out-fixed{display: block;}.jimu-widget-layerlist .jimu-widget-layeritem .layeritem-table td{padding: 5px 0;}.jimu-widget-layerlist .jimu-widget-layeritem .jimu-checkbox .label{cursor: pointer;}.jimu-widget-layerlist .elevation-layers-container{position: relative; top: -30px;}.jimu-widget-layerlist .ground-tip{position: relative; height: 24px; margin-top: 5px;}.jimu-widget-layerlist .ground-tip \x3e *{position: absolute; width: 100%;}.jimu-widget-layerlist .ground-tip \x3e div{text-align: center;}.jimu-widget-layerlist .ground-tip span{display: inline-block; max-width: 90%; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; background-color: white; padding: 0 4px;}html[dir\x3d"rtl"] .jimu-widget-layerlist .esri-layer-list__child-toggle.esri-layer-list__child-toggle--open \x3e .esri-layer-list__child-toggle-icon--closed-rtl.esri-icon-left-triangle-arrow{display: none;}',
"*now":function(T){T(['dojo/i18n!*preload*widgets/LayerList/nls/Widget*["ar","bg","bs","ca","cs","da","de","en","el","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sk","sl","sr","sv","th","tr","zh-cn","uk","vi","zh-hk","zh-tw","ROOT"]'])}}});
define("dojo/on dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/_base/html jimu/BaseWidget esri/widgets/LayerList ./LayerItem".split(" "),function(T,K,q,v,B,w,E,t){return q([w],{name:"LayerList",baseClass:"jimu-widget-layerlist",_elevationLayerItems:null,postCreate:function(){this.inherited(arguments);this._elevationLayerItems=[];this.layerList=new E({view:this.sceneView,container:this.dijitDiv,listItemCreatedFunction:v.hitch(this,this._defineActions)});this.own(this.layerList.on("trigger-action",
v.hitch(this,this._onTriggerAction)));this.own(T(this.sceneView.map.ground.layers,"change",v.hitch(this,this._updateElevationLayers)));this.own(T(this.sceneView.map.allLayers,"change",v.hitch(this,this._updateGroudTip)));this._updateElevationLayers()},onOpen:function(){this._updateGroudTip()},_updateGroudTip:function(){setTimeout(v.hitch(this,function(){10<this.dijitDiv.clientHeight?B.removeClass(this.groundTip,"hidden"):B.addClass(this.groundTip,"hidden")}),1E3)},_updateElevationLayers:function(){this._destroyAllElevationLayerItems();
for(var h=this.sceneView.map.ground.layers,F=0,R=h.get("length")-1;0<=R;R--){var D=h.getItemAt(R);"hide"!==D.listMode&&(this._addElevationLayerItem(D),F++)}0===F?B.addClass(this.elevationLayersContainer,"hidden"):B.removeClass(this.elevationLayersContainer,"hidden")},_addElevationLayerItem:function(h){h=new t({layer:h,sceneView:this.sceneView,nls:this.nls});this._elevationLayerItems.push(h);h.placeAt(this.elevationLayersContainer)},_destroyAllElevationLayerItems:function(){K.forEach(this._elevationLayerItems,
v.hitch(this,function(h){h.destroy()}));this._elevationLayerItems=[]},_createActionsFunction:function(h){var F=[];h.item.layer&&(F=[[{title:this.nls.fullExtentTip,className:"esri-icon-zoom-out-fixed",id:"full-extent"}]]);return F},_defineActions:function(h){h=h.item;h.layer.title?h.actionsSections=[[{title:this.nls.fullExtentTip,className:"esri-icon-zoom-out-fixed",id:"full-extent"}]]:(this.layerList.operationalItems.remove(h),h.destroy())},_onTriggerAction:function(h){var F=h.item.layer;if(F)switch(h.action.id){case "full-extent":(h=
F.fullExtent||F.extent)&&this.sceneView.goTo(h)}},destroy:function(){this.layerList&&(this.layerList.destroy(),this.layerList=null);this._destroyAllElevationLayerItems();this.inherited(arguments)}})});