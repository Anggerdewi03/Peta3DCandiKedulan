// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"widgets/Coordinate/setting/Edit":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/html dojo/_base/array dijit/_WidgetsInTemplateMixin jimu/BaseWidgetSetting ./CameraUnits jimu/utils jimu/dijit/CheckBox dojo/text!./Edit.html jimu/SpatialReference/srUtils dijit/form/ValidationTextBox dijit/form/Select".split(" "),function(t,g,m,w,y,u,v,h,q,x,c){var e=[{value:"",label:"Default",selected:!0,disabled:!1},{value:"",label:"",selected:!0,disabled:!1},{value:"INCHES",label:"Inches",
selected:!1,disabled:!1},{value:"FOOT",label:"Foot",selected:!1,disabled:!1},{value:"YARDS",label:"Yards",selected:!1,disabled:!1},{value:"MILES",label:"Miles",selected:!1,disabled:!1},{value:"NAUTICAL_MILES",label:"Nautical_Miles",selected:!1,disabled:!1},{value:"MILLIMETERS",label:"Millimeters",selected:!1,disabled:!1},{value:"CENTIMETERS",label:"Centimeters",selected:!1,disabled:!1},{value:"METER",label:"Meter",selected:!1,disabled:!1},{value:"KILOMETERS",label:"Kilometers",selected:!1,disabled:!1},
{value:"DECIMETERS",label:"Decimeters",selected:!1,disabled:!1},{value:"",label:"",selected:!0,disabled:!1},{value:"DECIMAL_DEGREES",label:"Decimal_Degrees",selected:!1,disabled:!1},{value:"DEGREE_MINUTE_SECONDS",label:"Degree_Minutes_Seconds",selected:!1,disabled:!1},{value:"",label:"",selected:!0,disabled:!1},{value:"MGRS",label:"MGRS",selected:!1,disabled:!1},{value:"USNG",label:"USNG",selected:!1,disabled:!1}];return t([u,y],{baseClass:"jimu-coordinate-edit",templateString:x,currentWkid:null,
version:null,enhanceVersion:10.1,_config:null,postCreate:function(){this.inherited(arguments);this.transformForward=new q({label:this.nls.forward,checked:!1},this.transformForward);this.version<this.enhanceVersion?(m.setStyle(this.olderVersionDiv,"display","block"),m.setStyle(this.enhanceVersionDiv,"display","none")):(m.setStyle(this.olderVersionDiv,"display","none"),m.setStyle(this.enhanceVersionDiv,"display","block"));m.setStyle(this.transformDiv,"display","none");m.setStyle(this.transformForward.domNode,
"display","none");this.wkid.set("missingMessage",this.nls.warning);this.transformationWkid.set("missingMessage",this.nls.tfWarning);this.elevationUnits=new v({title:this.nls.elevationUnit,nls:this.nls},this.elevationUnitsNode);this.elevationUnits.startup();this.eyeAltUnits=new v({title:this.nls.eyeAltUnit,nls:this.nls},this.eyeAltUnitsNode);this.eyeAltUnits.startup()},setConfig:function(b){this._config=g.clone(b);c.loadResource().then(g.hitch(this,function(){b.wkid&&(this.wkid.set("value",parseInt(b.wkid,
10)),this.currentWkid=parseInt(b.wkid,10),this._adjustUnitOption());b.label&&(this.wkidLabel.innerHTML=h.sanitizeHTML(b.label));b.outputUnit&&this.outputUnit.set("value",b.outputUnit);b.transformationWkid&&this.transformationWkid.set("value",parseInt(b.transformationWkid,10));b.transformationLabel&&(this.transformationLabel.innerHTML=h.sanitizeHTML(b.transformationLabel));b.transformForward&&this.transformForward.setValue(b.transformForward);b.elevationUnit&&this.elevationUnits.setConfig(b.elevationUnit);
b.eyeAltUnit&&this.eyeAltUnits.setConfig(b.eyeAltUnit)}),g.hitch(this,function(n){console.error(n)}))},getConfig:function(){var b={wkid:c.standardizeWkid(this.wkid.get("value")),label:this.wkidLabel.innerHTML,outputUnit:this.outputUnit.get("value"),transformationWkid:parseInt(this.transformationWkid.get("value"),10),transformationLabel:this.transformationLabel.innerHTML,transformForward:this.transformForward.getValue(),elevationUnit:this.elevationUnits.getConfig(),eyeAltUnit:this.eyeAltUnits.getConfig()};
b.outputUnit=b.outputUnit||c.getCSUnit(b.wkid);var n={sameSRWithMap:c.isSameSR(b.wkid,this.sceneView.spatialReference.wkid),isGeographicCS:c.isGeographicCS(b.wkid),isGeographicUnit:c.isGeographicUnit(b.outputUnit),isProjectedCS:c.isProjectedCS(b.wkid),isProjectUnit:c.isProjectUnit(b.outputUnit),spheroidCS:c.isProjectedCS(b.wkid)?c.getGeoCSByProj(b.wkid):b.wkid,defaultUnit:c.getCSUnit(b.wkid),unitRate:c.getUnitRate(c.getCSUnit(b.wkid),b.outputUnit)};n.isGeographicUnit&&n.isProjectedCS&&(n.unitRate=
1);b.options=n;return b},_removeGeoUnits:function(){w.forEach(c.getGeographicUnits(),g.hitch(this,function(b){this.outputUnit.removeOption(b)}))},_removeProjUnits:function(){w.forEach(c.getProjectUnits(),g.hitch(this,function(b){this.outputUnit.removeOption(b)}))},_removeAllUnits:function(){for(var b=0,n=e.length;b<n;b++)this.outputUnit.removeOption(e[b].value)},_addAllUnits:function(){for(var b=0,n=e.length;b<n;b++){var a=g.clone(e[b]);a.label=this.nls[e[b].label];this.outputUnit.addOption(a)}},
_adjustUnitOption:function(){if(this.currentWkid===this.sceneView.spatialReference.wkid){if(c.isWebMercator(this.currentWkid))return;4326===this.currentWkid?this._removeProjUnits():c.isGeographicCS(this.currentWkid)?this._removeProjUnits():c.isProjectedCS(this.currentWkid)&&(this._removeGeoUnits(),this.outputUnit.removeOption("USNG"),this.outputUnit.removeOption("MGRS"))}else c.isGeographicCS(this.currentWkid)&&this._removeProjUnits();this._config.outputUnit&&this.outputUnit.set("value",this._config.outputUnit)},
_isDefaultSR:function(){var b=this.wkid.get("value");return c.isSameSR(b,this.sceneView.spatialReference.wkid)},onWkidChange:function(b){var n="",a=parseInt(b,10);this.popup.disableButton(0);c.isValidWkid(a)?(n=c.getSRLabel(a),this.wkidLabel.innerHTML=h.sanitizeHTML(n),c.isSameSpheroid(a,this.sceneView.spatialReference.wkid)?(this.transformationWkid.set("value",""),m.setStyle(this.transformDiv,"display","none")):m.setStyle(this.transformDiv,"display","block"),this.popup.enableButton(0)):b&&(this.wkid.set("value",
""),this.wkidLabel.innerHTML=this.nls.cName);this.currentWkid!==a&&this.transformationWkid.set("value","");this.currentWkid=a;this._removeAllUnits();this._addAllUnits();this._adjustUnitOption();this.outputUnit.closeDropDown()},ontfWkidChange:function(b){if(b){var n="",a="";b=parseInt(b,10);c.isValidTfWkid(b)?(n=b,a=c.getTransformationLabel(b),this.transformationLabel.innerHTML=h.sanitizeHTML(a),m.setStyle(this.transformForward.domNode,"display","block")):(this.transformationLabel.innerHTML=this.nls.tName,
m.setStyle(this.transformForward.domNode,"display","none"));this.transformationWkid.set("value",n)}else this.transformationLabel.innerHTML=this.nls.tName,m.setStyle(this.transformForward.domNode,"display","none")}})})},"widgets/Coordinate/setting/CameraUnits":function(){define("dojo/_base/declare dojo/_base/html dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./CameraUnits.html jimu/utils dijit/form/Select".split(" "),function(t,g,m,w,y,u,v){return t([m,w,y],{templateString:u,
postCreate:function(){this.inherited(arguments);this.titleNode.innerHTML=v.sanitizeHTML(this.title);g.setAttr(this.titleNode,"title",this.title);g.setAttr(this.fieldset,"id",this.id);g.setAttr(this.metric,"name",this.id);g.setAttr(this.metric,"id",this.id+"-metric");g.setAttr(this.metricLabel,"for",this.id+"-metric");g.setAttr(this.english,"name",this.id);g.setAttr(this.english,"id",this.id+"-english");g.setAttr(this.englishLabel,"for",this.id+"-english")},setConfig:function(h){h||(h="metric");this._selectItem(h)},
getConfig:function(){var h="";this.metric.get("checked")?h="metric":this.english.get("checked")&&(h="english");return h},_selectItem:function(h){this[h]&&this[h].setChecked&&this[h].setChecked(!0)}})})},"jimu/SpatialReference/srUtils":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Deferred dojo/promise/all dojo/request esri/SpatialReference ./unitUtils".split(" "),function(t,g,m,w,y,u,v,h){var q=null,x=null,c=!1,e=t(null,function(){});t=require.toUrl("jimu");var b=u(t+
"/SpatialReference/cs.json",{handleAs:"json"}),n=u(t+"/SpatialReference/transform.json",{handleAs:"json"});e.loadResource=function(){var a=new w;if(q&&x)return a.resolve(),a;y([b,n]).then(function(k){q=k[0];x=k[1];c=!0;a.resolve()},function(k){console.error(k);c=!1;a.reject(k)});return a};e.getAllCSUnits=function(){if(c){var a=[];m.forEach(q.wkids,g.hitch(this,function(k){k=this.getCSUnit(k);-1===m.indexOf(a,k)&&a.push(k)}));return a}};e.convertUnit=function(a,k,z){if(c)return h.convertUnit(a,k,z)};
e.getUnitRate=function(a,k){if(c)return h.getUnitRate(a,k)};e.isProjectUnit=function(a){if(c)return h.isProjectUnit(a)};e.isGeographicUnit=function(a){if(c)return h.isGeographicUnit(a)};e.getGeographicUnits=function(){if(c)return h.getGeographicUnits()};e.getProjectUnits=function(){if(c)return h.getProjectUnits()};e.getCSUnit=function(a){if(c)return a=m.indexOf(q.wkids,a),q.units[a]};e.isSameSR=function(a,k){if(c)return a=this.indexOfWkid(a),k=this.indexOfWkid(k),q.labels[a]===q.labels[k]};e.isValidWkid=
function(a){if(c)return-1<this.indexOfWkid(a)};e.getSRLabel=function(a){if(c&&this.isValidWkid(a))return a=this.indexOfWkid(a),q.labels[a]};e.indexOfWkid=function(a){if(c)return m.indexOf(q.wkids,a)};e.isWebMercator=function(a){return v.prototype._isWebMercator?v.prototype._isWebMercator.apply({wkid:parseInt(a,10)},[]):(new v(parseInt(a,10))).isWebMercator()};e.standardizeWkid=function(a){return this.isWebMercator(a)?3857:parseInt(a,10)};e.isValidTfWkid=function(a){if(c)return-1<this.indexOfTfWkid(a)};
e.getTransformationLabel=function(a){if(c)return this.isValidTfWkid(a)?(a=this.indexOfTfWkid(a),x.labels[a]):""};e.indexOfTfWkid=function(a){if(c)return m.indexOf(x.tfWkids,a)};e.isGeographicCS=function(a){if(c)return this.isValidWkid(a)?(a=this.indexOfWkid(a),!q.projSR[a]):!1};e.isProjectedCS=function(a){if(c)return this.isValidWkid(a)?(a=this.indexOfWkid(a),q.projSR[a]):!1};e.getGeoCSByProj=function(a){if(c&&this.isProjectedCS(a))return a=this.indexOfWkid(a),q.spheroids[a]};e.getSpheroidStr=function(a){if(c)return this.isGeographicCS(a)?
q.labels[this.indexOfWkid(a)]:this.isProjectedCS(a)?(a=e.getGeoCSByProj(a),q.labels[this.indexOfWkid(a)]):null};e.isSameSpheroid=function(a,k){if(c)return a=this.getSpheroidStr(a),k=this.getSpheroidStr(k),a&&k&&a===k?!0:!1};return e})},"widgets/Coordinate/setting/_build-generate_module":function(){define(["dojo/text!./Setting.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},"url:widgets/Coordinate/setting/CameraUnits.html":'\x3cdiv class\x3d"unit-type"\x3e\r\n  \x3ctd class\x3d"display"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"titleNode" class\x3d"unit-label"\x3e\x3c/div\x3e\r\n  \x3c/td\x3e\r\n  \x3ctd class\x3d"units"\x3e\r\n    \x3cfieldset id\x3d"unit-type" data-dojo-attach-point\x3d"fieldset"\x3e\r\n      \x3cdiv class\x3d"unit-item" data-dojo-attach-point\x3d"metricNode"\x3e\r\n        \x3cinput data-dojo-type\x3d"dijit/form/RadioButton" name\x3d"" id\x3d"" data-dojo-attach-point\x3d"metric" checked\x3d"checked" /\x3e\r\n        \x3clabel data-dojo-attach-point\x3d"metricLabel" for\x3d"" title\x3d${nls.metric}\x3e${nls.metric}\x3c/label\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"unit-item" data-dojo-attach-point\x3d"englishNode"\x3e\r\n        \x3cinput data-dojo-type\x3d"dijit/form/RadioButton" name\x3d"" id\x3d"" data-dojo-attach-point\x3d"english" /\x3e\r\n        \x3clabel data-dojo-attach-point\x3d"englishLabel" for\x3d"" title\x3d${nls.english}\x3e${nls.english}\x3c/label\x3e\r\n      \x3c/div\x3e\r\n    \x3c/fieldset\x3e\r\n  \x3c/td\x3e\r\n\x3c/div\x3e',
"url:widgets/Coordinate/setting/Edit.html":'  \x3cdiv style\x3d"width:100%"\x3e\r\n    \x3cdiv class\x3d"output-wkid edit-module" data-dojo-attach-point\x3d"outputDiv"\x3e\r\n      \x3ctable cellspacing\x3d"0"\x3e\r\n        \x3ctbody\x3e\r\n          \x3ctr\x3e\r\n            \x3ctd\x3e\r\n              \x3cdiv class\x3d"wkid-header"\x3e\r\n                \x3cspan\x3e${nls.output}\x3c/span\x3e\r\n                \x3ca href\x3d"https://developers.arcgis.com/javascript/jshelp/ref_coordsystems.html" target\x3d"blank"\x3eWKID\x3c/a\x3e\r\n              \x3c/div\x3e\r\n            \x3c/td\x3e\r\n          \x3c/tr\x3e\r\n          \x3ctr\x3e\r\n            \x3ctd\x3e\r\n              \x3cinput type\x3d"text" data-dojo-type\x3d"dijit/form/ValidationTextBox" required\x3d"true"\r\n            placeHolder\x3d"WKID" data-dojo-attach-event\x3d"onChange:onWkidChange"\r\n            data-dojo-attach-point\x3d"wkid" data-dojo-props\x3d\'style:{width:"100%"}\' /\x3e\r\n            \x3c/td\x3e\r\n          \x3c/tr\x3e\r\n          \x3ctr\x3e\r\n            \x3ctd\x3e\r\n              \x3cspan class\x3d"wkid-label" data-dojo-attach-point\x3d"wkidLabel"\x3e${nls.cName}\x3c/span\x3e\r\n            \x3c/td\x3e\r\n          \x3c/tr\x3e\r\n        \x3c/tbody\x3e\r\n      \x3c/table\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"display-units edit-module camera-units" data-dojo-attach-point\x3d"displayUnits"\x3e\r\n      \x3ctable cellspacing\x3d"0"\x3e\r\n        \x3ctbody\x3e\r\n          \x3ctr\x3e\r\n            \x3ctd class\x3d"display"\x3e\r\n              \x3cspan title\x3d"${nls.units}"\x3e${nls.units}\x3c/span\x3e\r\n            \x3c/td\x3e\r\n            \x3ctd class\x3d"units"\x3e\r\n              \x3cselect data-dojo-attach-point\x3d"outputUnit" data-dojo-props\x3d\'style:{width:"462px"}\' data-dojo-type\x3d"dijit/form/Select"\x3e\r\n                \x3coption value\x3d""\x3e${nls.Default}\x3c/option\x3e\r\n                \x3coption type\x3d"separator"\x3e\x3c/option\x3e\r\n                \x3coption value\x3d"INCHES"\x3e${nls.Inches}\x3c/option\x3e\r\n                \x3coption value\x3d"FOOT"\x3e${nls.Foot}\x3c/option\x3e\r\n                \x3coption value\x3d"YARDS"\x3e${nls.Yards}\x3c/option\x3e\r\n                \x3coption value\x3d"MILES"\x3e${nls.Miles}\x3c/option\x3e\r\n                \x3coption value\x3d"NAUTICAL_MILES"\x3e${nls.Nautical_Miles}\x3c/option\x3e\r\n                \x3coption value\x3d"MILLIMETERS"\x3e${nls.Millimeters}\x3c/option\x3e\r\n                \x3coption value\x3d"CENTIMETERS"\x3e${nls.Centimeters}\x3c/option\x3e\r\n                \x3coption value\x3d"METER"\x3e${nls.Meter}\x3c/option\x3e\r\n                \x3coption value\x3d"KILOMETERS"\x3e${nls.Kilometers}\x3c/option\x3e\r\n                \x3coption value\x3d"DECIMETERS"\x3e${nls.Decimeters}\x3c/option\x3e\r\n                \x3coption type\x3d"separator"\x3e\x3c/option\x3e\r\n                \x3coption value\x3d"DECIMAL_DEGREES"\x3e${nls.Decimal_Degrees}\x3c/option\x3e\r\n                \x3coption value\x3d"DEGREE_MINUTE_SECONDS"\x3e${nls.Degree_Minutes_Seconds}\x3c/option\x3e\r\n                \x3coption type\x3d"separator"\x3e\x3c/option\x3e\r\n                \x3coption value\x3d"MGRS"\x3e${nls.MGRS}\x3c/option\x3e\r\n                \x3coption value\x3d"USNG"\x3e${nls.USNG}\x3c/option\x3e\r\n              \x3c/select\x3e\r\n            \x3c/td\x3e\r\n          \x3c/tr\x3e\r\n        \x3c/tbody\x3e\r\n      \x3c/table\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"display-units edit-module camera-units"\x3e\r\n      \x3ctable cellspacing\x3d"0"\x3e\r\n        \x3ctbody\x3e\r\n          \x3ctr\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"elevationUnitsNode" class\x3d"camera-units"\x3e\x3c/div\x3e\r\n          \x3c/tr\x3e\r\n          \x3ctr\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"eyeAltUnitsNode" class\x3d"camera-units"\x3e\x3c/div\x3e\r\n          \x3c/tr\x3e\r\n        \x3c/tbody\x3e\r\n      \x3c/table\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"enhanceVersionDiv"\x3e\r\n      \x3cdiv class\x3d"datum-wkid edit-module" data-dojo-attach-point\x3d"transformDiv"\x3e\r\n        \x3ctable cellspacing\x3d"0"\x3e\r\n          \x3ctbody\x3e\r\n            \x3ctr\x3e\r\n              \x3ctd\x3e\r\n                \x3cdiv class\x3d"wkid-header"\x3e\r\n                  \x3cspan\x3e${nls.datum}\x3c/span\x3e\r\n                  \x3ca href\x3d"http://resources.arcgis.com/en/help/arcgis-rest-api/index.html#//02r3000000r8000000" target\x3d"blank"\x3eTFWKID\x3c/a\x3e\r\n                \x3c/div\x3e\r\n              \x3c/td\x3e\r\n            \x3c/tr\x3e\r\n            \x3ctr\x3e\r\n              \x3ctd\x3e\r\n                \x3cinput type\x3d"text" data-dojo-type\x3d"dijit/form/ValidationTextBox" required\x3d"true" placeHolder\x3d"${nls.tWKIDPlaceHolder}"\r\n              data-dojo-attach-point\x3d"transformationWkid" data-dojo-attach-event\x3d"onChange:ontfWkidChange" data-dojo-props\x3d\'style:{width:"100%"}\' /\x3e\r\n              \x3c/td\x3e\r\n            \x3c/tr\x3e\r\n            \x3ctr\x3e\r\n              \x3ctd\x3e\r\n                \x3cspan class\x3d"wkid-label" data-dojo-attach-point\x3d"transformationLabel"\x3e${nls.tName}\x3c/span\x3e\r\n              \x3c/td\x3e\r\n            \x3c/tr\x3e\r\n          \x3c/tbody\x3e\r\n        \x3c/table\x3e\r\n        \x3cdiv class\x3d"check" data-dojo-attach-point\x3d"transformForward"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"older-version" data-dojo-attach-point\x3d"olderVersionDiv"\x3e${nls.olderVersion}\x3c/div\x3e\r\n  \x3c/div\x3e',
"url:widgets/Coordinate/setting/Setting.html":'\x3cdiv class\x3d"jimu-widget-coordinate-setting"\x3e\r\n  \x3cdiv class\x3d"settings-section" data-dojo-attach-point\x3d"searchesSection"\x3e\r\n    \x3cp\x3e${nls.state}\x3c/p\x3e\r\n    \x3cdiv class\x3d"add-output-coordinate" data-dojo-attach-event\x3d"onclick: onAddClick"\x3e\r\n      \x3cspan class\x3d"add-output-coordinate-icon"\x3e\x3c/span\x3e\r\n      \x3cspan class\x3d"add-output-coordinate-label"\x3e${nls.add}\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"coordinate-table" data-dojo-attach-point\x3d"tableCoordinate"\x3e\x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"displayNumber" class\x3d"display-number"\x3e\r\n      \x3cdiv\x3e\r\n        \x3cspan class\x3d"spinner-label ops-label"\x3e${nls.spinnerLabel}\x3c/span\x3e\r\n        \x3cinput type\x3d"text" data-dojo-type\x3d"dijit/form/NumberSpinner" value\x3d"3" data-dojo-attach-point\x3d"latLonDecimalPlaces" data-dojo-props\x3d"constraints: {min:0}"\x3e\r\n        \x3cspan class\x3d"demical-place"\x3e${nls.decimalPlace}\x3c/span\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"decimal-row"\x3e\r\n        \x3cspan class\x3d"decimal-label ops-label"\x3e${nls.eyeDecimalLabel}\x3c/span\x3e\r\n        \x3cinput type\x3d"text" data-dojo-type\x3d"dijit/form/NumberSpinner" value\x3d"3" data-dojo-attach-point\x3d"eyeDecimalPlaces" data-dojo-props\x3d"constraints: {min:0}"\x3e\r\n        \x3cspan class\x3d"demical-place"\x3e${nls.decimalPlace}\x3c/span\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"separator"\x3e\r\n        \x3cdiv class\x3d"check" data-dojo-attach-point\x3d"separator"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"displayOrder clearFix"\x3e\r\n      \x3cspan class\x3d"jimu-float-leading displayOrderTips"\x3e${nls.displayOrderLonLatTips}\x3c/span\x3e\r\n      \x3cspan class\x3d"order"\x3e\r\n        \x3cdiv class\x3d"jimu-float-leading order-btn"\x3e\r\n          \x3cinput data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-attach-point\x3d"lonLat" id\x3d"lonLat"/\x3e\r\n          \x3clabel for\x3d"lonLat"\x3e${nls.lonLatTips}\x3c/label\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"jimu-float-leading order-btn"\x3e\r\n          \x3cinput data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-attach-point\x3d"latLon" id\x3d"latLon"/\x3e\r\n          \x3clabel for\x3d"latLon"\x3e${nls.latLonTips}\x3c/label\x3e\r\n        \x3c/div\x3e\r\n      \x3c/span\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/Coordinate/setting/css/style.css":'.jimu-widget-coordinate-setting .clearFix {*overflow: hidden; *zoom: 1;}.jimu-widget-coordinate-setting .clearFix:after {display: table; content: ""; width: 0; clear: both;}.jimu-widget-coordinate-setting{margin:0; padding:0; font-size: 14px; padding-top: 20px; color: #596679;}.jimu-widget-coordinate-setting .dijitSelect{height: 30px; width: 100%;}.jimu-widget-coordinate-setting .dijitArrowButtonContainer{width: 17px;}.jimu-widget-coordinate-setting .zoom-scale-table{margin-top:12px;}.jimu-widget-coordinate-setting .settings-section p{font-size: 14px; margin-bottom: 20px;}.jimu-widget-coordinate-setting .add-output-coordinate{margin-bottom: 7px; cursor: pointer; display: inline-block;}.jimu-widget-coordinate-setting .add-output-coordinate-icon{background-image: url(images/add_icon.png); background-repeat: no-repeat; background-position: center; width: 14px; height: 14px; display: inline-block; vertical-align: middle;}.jimu-widget-coordinate-setting .add-output-coordinate-label{font-size: 14px; color: #518dca; margin-left: 10px; display: inline-block; height: 100%; text-decoration: underline;}.jimu-widget-coordinate-setting .wkid, .jimu-widget-coordinate-setting .transformationWkid,.jimu-widget-coordinate-setting .actions{width: 120px;}.jimu-widget-coordinate-setting .coordinate-table{height: 186px;}.jimu-widget-coordinate-setting .display-number,.jimu-widget-coordinate-setting .separator{margin-top: 10px;}.jimu-widget-coordinate-setting .display-number .decimal-row{margin-top: 8px;}.jimu-widget-coordinate-setting .display-number .ops-label{min-width: 150px; display: inline-block;}.jimu-widget-coordinate-setting .display-number .dijitNumberTextBox {width: 70px;}.jimu-coordinate-edit{width: 100%; font-size: 16px; color: #596679;}.jimu-coordinate-edit table{width: calc(100% - 2px) !important;}.jimu-coordinate-edit .wkid-header{margin: 0 0 10px;}.jimu-coordinate-edit .check{margin-top: 10px;}.jimu-coordinate-edit .label{font-size: 14px;}.jimu-coordinate-edit .wkid-label{font-size: 14px; font-style: italic; color: #a0acbf; width: 100%; display: inline-block; margin-top: 5px;}.jimu-coordinate-edit .edit-module{margin-bottom: 10px;}.jimu-coordinate-edit .edit-module:last-child{margin-bottom: 0;}.jimu-coordinate-edit .display-units .display{width: 20%; max-width: 120px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;}.jimu-coordinate-edit .older-version{font-size: 14px; font-style: italic; color: #e84b4b;}.jimu-widget-coordinate-setting{width:100%; height:100%;}.jimu-widget-coordinate-setting .displayOrder{margin-top: 16px;}.jimu-widget-coordinate-setting .displayOrder .displayOrderTips{margin-right: 10px;}.jimu-rtl .jimu-widget-coordinate-setting .displayOrder .displayOrderTips{margin-left: 10px; margin-right: auto;}.jimu-widget-coordinate-setting .displayOrder .order-btn{margin: 0 10px 0 10px;}.jimu-coordinate-edit .camera-units{}.jimu-coordinate-edit .camera-units .unit-type{margin: 10px 0;}.jimu-coordinate-edit .camera-units .unit-label{width: 20%; display: inline-block;}.jimu-coordinate-edit .camera-units .unit-type fieldset{display: inline-block;}.jimu-coordinate-edit .camera-units .unit-item{display: inline-block; margin-right: 10px;}.jimu-rtl .jimu-coordinate-edit .camera-units .unit-item{margin-right: auto; margin-left: 10px;}',
"*now":function(t){t(['dojo/i18n!*preload*widgets/Coordinate/setting/nls/Setting*["ar","bg","bs","ca","cs","da","de","en","el","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sk","sl","sr","sv","th","tr","zh-cn","uk","vi","zh-hk","zh-tw","ROOT"]'])}}});
define("dojo/_base/declare dojo/_base/lang dojo/_base/html dojo/on dojo/aspect dojo/query dojo/keys dojo/json esri/request jimu/BaseWidgetSetting dijit/_WidgetsInTemplateMixin jimu/dijit/SimpleTable jimu/dijit/Message jimu/dijit/Popup jimu/dijit/CheckBox jimu/dijit/LoadingShelter jimu/portalUtils ./Edit jimu/SpatialReference/srUtils jimu/dijit/RadioBtn dojo/NodeList-dom dijit/form/NumberSpinner dijit/form/NumberTextBox".split(" "),function(t,g,m,w,y,u,v,h,q,x,c,e,b,n,a,k,z,A,r){return t([x,c],{baseClass:"jimu-widget-coordinate-setting",
edit:null,popup:null,popupState:"",editTr:null,gsVersion:0,postCreate:function(){this.inherited(arguments);this.separator=new a({label:this.nls.separator,checked:!1},this.separator);this.shelter1=new k({hidden:!0});this.shelter1.placeAt(this.domNode);this.shelter1.startup();this.shelter2=new k({hidden:!0});this.shelter2.placeAt(this.domNode);this.shelter2.startup()},startup:function(){this.inherited(arguments);this.outputCoordinateTable=new e({autoHeight:!1,fields:[{name:"id",title:this.nls.id,type:"text",
unique:!0,hidden:!0,editable:!1},{name:"wkid",title:this.nls.wkid,type:"text","class":"wkid",hidden:!0,editable:!1},{name:"label",title:this.nls.label,type:"text",editable:!1},{name:"outputUnit",title:this.nls.output,type:"text",hidden:!0,editable:!1},{name:"transformationWkid",title:this.nls.transformationWkid,type:"text","class":"transformationWkid",editable:!1,hidden:!0},{name:"transformationLabel",title:this.nls.transformationLabel,type:"text",editable:!1,hidden:!0},{name:"transformForward",title:this.nls.transformForward,
type:"checkbox",editable:!1,hidden:!0},{name:"options",title:"options",type:"text",editable:!1,hidden:!0},{name:"elevationUnit",title:"elevationUnit",type:"text",editable:!1,hidden:!0},{name:"eyeAltUnit",title:"eyeAltUnit",type:"text",editable:!1,hidden:!0},{name:"actions",title:this.nls.actions,type:"actions","class":"actions",actions:["edit","up","down","delete"]}],selectable:!1});m.setStyle(this.outputCoordinateTable.domNode,"height","100%");this.outputCoordinateTable.placeAt(this.tableCoordinate);
this.outputCoordinateTable.startup();this.own(w(this.outputCoordinateTable,"actions-edit",g.hitch(this,"onEditClick")));this.setConfig(this.config);this._initOrderLonLatRadioBtns();this._getGeometryServiceVersion()},setConfig:function(d){this.config=d;this.outputCoordinateTable.clear();this.shelter1.show();r.loadResource().then(g.hitch(this,function(){if(d.spatialReferences&&d.spatialReferences.length){for(var f=[],l=d.spatialReferences.length,p=0;p<l;p++){var B=parseInt(d.spatialReferences[p].wkid,
10);f.push({id:p,wkid:r.standardizeWkid(B),label:d.spatialReferences[p].label,outputUnit:d.spatialReferences[p].outputUnit,elevationUnit:d.spatialReferences[p].elevationUnit,eyeAltUnit:d.spatialReferences[p].eyeAltUnit,transformationWkid:d.spatialReferences[p].transformationWkid,transformationLabel:d.spatialReferences[p].transformationLabel,transformForward:d.spatialReferences[p].transformForward,options:h.stringify(d.spatialReferences[p].options)})}this.outputCoordinateTable.addRows(f)}else this._addMapCoordinate()}),
g.hitch(this,function(f){console.error(f)})).always(g.hitch(this,function(){this.shelter1.hide()}));isFinite(parseInt(d.latLonDecimalPlaces,10))&&this.latLonDecimalPlaces.set("value",parseInt(d.latLonDecimalPlaces,10));isFinite(parseInt(d.eyeDecimalPlaces,10))&&this.eyeDecimalPlaces.set("value",parseInt(d.eyeDecimalPlaces,10));d.addSeparator&&this.separator.setValue(d.addSeparator)},_getGeometryServiceVersion:function(){this.shelter2.show();if(esriConfig.defaults.geometryService&&esriConfig.defaults.geometryService.url){var d=
esriConfig.defaults.geometryService.url;d=d.slice(0,d.indexOf("/Geometry/"));q({url:d,handleAs:"json",callbackParamName:"callback",content:{f:"json"}}).then(g.hitch(this,function(f){console.log(f);f&&f.currentVersion&&(this.gsVersion=parseFloat(f.currentVersion))}),g.hitch(this,function(f){console.error(f)})).always(g.hitch(this,function(){this.shelter2.hide()}))}else this.shelter2.hide(),new b({message:this.nls.getVersionError})},_addMapCoordinate:function(){var d=this.sceneView.spatialReference.wkid;
z.getUnits(this.appConfig.portalUrl).then(g.hitch(this,function(f){if(r.isValidWkid(d)){var l={wkid:r.standardizeWkid(d),label:r.getSRLabel(parseInt(d,10))};r.isProjectedCS(l.wkid)?l.outputUnit="english"===f?"FOOT":"METER":l.outputUnit=l.outputUnit||r.getCSUnit(l.wkid);f={sameSRWithMap:r.isSameSR(l.wkid,this.sceneView.spatialReference.wkid),isGeographicCS:r.isGeographicCS(l.wkid),isGeographicUnit:r.isGeographicUnit(l.outputUnit),isProjectedCS:r.isProjectedCS(l.wkid),isProjectUnit:r.isProjectUnit(l.outputUnit),
spheroidCS:r.isProjectedCS(l.wkid)?r.getGeoCSByProj(l.wkid):l.wkid,defaultUnit:r.getCSUnit(l.wkid),unitRate:r.getUnitRate(r.getCSUnit(l.wkid),l.outputUnit)};this.sceneView.spatialReference.isWebMercator&&(f.isGeographicUnit=!0,f.isProjectUnit=!1,f.unitRate=1,l.outputUnit="DECIMAL_DEGREES");l.options=h.stringify(f);this.outputCoordinateTable.addRow(l)}}))},_keepDefaultOnlyEdit:function(){var d=u("."+this.baseClass+" .body-section tr[rowid\x3drow1]")[0];u(".action-item",d).style("display","none");u(".row-edit-div",
d).style("display","block");y.after(this.outputCoordinateTable,"onBeforeRowUp",g.hitch(this,function(f){if(u(".body-section .simple-table-row")[1]===f)return!1}),!0)},onAddClick:function(){this.popupState="ADD";this._openEdit(this.nls.add,{})},onEditClick:function(d){var f=this.outputCoordinateTable.getRowData(d);this.popupState="EDIT";this.editTr=d;this._openEdit(this.nls.edit,f)},_openEdit:function(d,f){this.edit=new A({version:this.gsVersion,sceneView:this.sceneView,nls:this.nls});this.popup=new n({titleLabel:d,
autoHeight:!0,content:this.edit,container:"main-page",width:640,buttons:[{label:this.nls.ok,key:v.ENTER,disable:!0,onClick:g.hitch(this,"_onEditOk")},{label:this.nls.cancel,classNames:["jimu-btn-vacation"],key:v.ESCAPE}],onClose:g.hitch(this,"_onEditClose")});this.edit.setConfig(f||{});m.addClass(this.popup.domNode,"widget-setting-popup");this.edit.startup()},_onEditOk:function(){var d=this.edit.getConfig(),f=null;d.wkid=r.standardizeWkid(d.wkid);d.options=h.stringify(d.options);"ADD"===this.popupState?
f=this.outputCoordinateTable.addRow(d):"EDIT"===this.popupState&&(f=this.outputCoordinateTable.editRow(this.editTr,d));f.success?(this.popup.close(),this.popupState="",this.editTr=null):new b({message:d.wkid+this.nls[f.errorCode]})},_onEditClose:function(){this.popup=this.edit=null},getConfig:function(){for(var d=this.outputCoordinateTable.getData(),f=[],l=d.length,p=0;p<l;p++)delete d[p].id,d[p].options=h.parse(d[p].options),f.push(d[p]);this.config.spatialReferences=f;this.config.latLonDecimalPlaces=
this.latLonDecimalPlaces.get("value");this.config.eyeDecimalPlaces=this.eyeDecimalPlaces.get("value");this.config.addSeparator=this.separator.getValue();return this.config},_initOrderLonLatRadioBtns:function(){this.own(w(this.lonLat,"click",g.hitch(this,function(){this.config.displayOrderLonLat=!0})));this.own(w(this.latLon,"click",g.hitch(this,function(){this.config.displayOrderLonLat=!1})));this.config.displayOrderLonLat?(this.lonLat.set("checked",!0),this.config.displayOrderLonLat=!0):(this.latLon.set("checked",
!0),this.config.displayOrderLonLat=!1)}})});